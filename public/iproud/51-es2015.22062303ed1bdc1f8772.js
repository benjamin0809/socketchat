(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{f5Ge:function(n,l,u){"use strict";u.r(l);var t=u("8Y7J");class e{}var o=u("pMnS"),i=u("ElMV"),r=u("oBZk"),a=u("ZZ/e"),b=u("TSSN"),c=u("SVse"),s=u("s7LF"),g=u("kgVa"),d=u("CSI6"),h=u("/nCp"),p=u("cUpR"),m=u("GVUw"),f=u("ohNG"),v=u("n90K"),C=u("Zr1d"),P=u("iInd"),y=u("mrSG"),I=u("GAO8"),_=u("YsCg"),D=u("ZwiA"),k=u("U7T7"),B=(u("Q1LM"),u("o0su")),S=u("hAUF"),x=u("Eggt");class E extends x.a{constructor(n,l,u,t,e,o,i,r,a,b,c,s,g){super(n,u,t,l,e,o,a,g,i,r,b,c,s,_.c.SignUpCountDown,S.a.LoginPage),this.router=n,this.navCtrl=l,this.modalCtrl=u,this.authProvider=t,this.toastCtrl=e,this.translateService=o,this.storageService=i,this.countryProvider=r,this.nativeService=a,this.eventsService=b,this.cacheProvider=c,this.userProvider=s,this.session=g,this.isReadPolicy=!1,super.validateInput(),this.translateService.get("SIGNUP_ERROR").subscribe(n=>{this.signupErrorString=n}),this.translateService.get("SIGNUP_VERIFYCODE_SEND").subscribe(n=>{this.verifyButtonFixedText=n,this.verifyButtonText=this.verifyButtonFixedText})}doSignup(){const n={mobilePhone:this.account.country+" "+B.a.clearAllSpaces(this.account.mobilephone),securityCode:this.account.verifyCode};this.authProvider.signup(n).subscribe(n=>{this.storageService.setItem(k.s.MobilePhone,this.account.mobilephone),this.storageService.setItem(k.s.Country,this.account.country),this.session.isNeedSetPwd=!0,setTimeout(()=>{this.BindWechat()},300),this.setTabsToRoot()},n=>y.b(this,void 0,void 0,(function*(){6110===n.errcode?this.signupErrorString=this.translateService.instant("SIGNUP_ERROR_NUMBER_EXIST"):6126===n.errcode&&(this.signupErrorString=this.translateService.instant("SIGNUP_ERROR_INVALID_CODE"));const l=yield this.toastCtrl.create({message:this.signupErrorString,duration:3e3,position:"top"});yield l.present()})))}exchangeState(){this.isReadPolicy=!this.isReadPolicy,this.validateInput()}goForgotPwd(){this.router.navigate([S.a.ForgotPasswordPage],{state:{fromWechatLogin:this.fromWechatLogin,fromAppleLogin:this.params.fromAppleLogin}})}}var M=u("qCJL"),O=u("6m4Z"),q=u("riPR"),R=u("TY44"),w=t.pb({encapsulation:0,styles:[[".country[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.bind-account-hint[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;margin-bottom:32px}.item-ios[_ngcontent-%COMP%]{font-size:1.7rem;color:var(--text-primary-color);background-color:var(--bg-primary-color)!important}ion-list-header[_ngcontent-%COMP%]{margin-bottom:0!important}.account-container[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{padding:5px 15px}.account-container[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .password[_ngcontent-%COMP%]{padding-left:2rem}.account-container[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{border-bottom:--border-primary}.account-container[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{padding-bottom:0}.item-ios.item-block[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{border-bottom:0}ion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0!important;font-size:1.5rem!important;width:100px;color:--text-primary-color}.selectcountry[_ngcontent-%COMP%]   .button-ios[_ngcontent-%COMP%]{height:2.5em;font-size:1.7rem;padding:0 1em}.verifycode[_ngcontent-%COMP%]{padding-right:.6em}.verifysend[_ngcontent-%COMP%]{padding:0!important}.verifysend[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:2.5em!important}"],i.a],data:{}});function L(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function T(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,3,"ion-title",[],null,null,null,r.fc,r.bb)),t.qb(1,49152,null,0,a.Cb,[t.h,t.k,t.x],null,null),(n()(),t.Jb(2,0,["",""])),t.Eb(131072,b.j,[b.k,t.h])],null,(function(n,l){n(l,2,0,t.Kb(l,2,0,t.Db(l,3).transform("SIGNUP_AND_BIND")))}))}function G(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,3,"ion-title",[],null,null,null,r.fc,r.bb)),t.qb(1,49152,null,0,a.Cb,[t.h,t.k,t.x],null,null),(n()(),t.Jb(2,0,["",""])),t.Eb(131072,b.j,[b.k,t.h])],null,(function(n,l){n(l,2,0,t.Kb(l,2,0,t.Db(l,3).transform("SIGNUP_TITLE")))}))}function N(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,3,"div",[["class","bind-account-hint"]],null,null,null,null,null)),(n()(),t.rb(1,0,null,null,2,"a",[],null,[[null,"click"]],(function(n,l,u){var t=!0;return"click"===l&&(t=!1!==n.component.goForgotPwd()&&t),t}),null,null)),(n()(),t.Jb(2,null,[" "," "])),t.Eb(131072,b.j,[b.k,t.h])],null,(function(n,l){n(l,2,0,t.Kb(l,2,0,t.Db(l,3).transform("BIND_EXIST_ACCOUNT")))}))}function U(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,1,"a",[],null,[[null,"click"]],(function(n,l,u){var t=!0;return"click"===l&&(t=!1!==n.component.sendSecurityCodeBefore()&&t),t}),null,null)),(n()(),t.Jb(1,null,["",""]))],null,(function(n,l){n(l,1,0,l.component.verifyButtonFixedText)}))}function j(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t.Jb(1,null,["",""]))],null,(function(n,l){n(l,1,0,l.component.verifyButtonText)}))}function A(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,12,"ion-header",[],null,null,null,r.wb,r.s)),t.qb(1,49152,null,0,a.D,[t.h,t.k,t.x],null,null),(n()(),t.rb(2,0,null,0,10,"ion-toolbar",[],null,null,null,r.hc,r.db)),t.qb(3,49152,null,0,a.Eb,[t.h,t.k,t.x],null,null),(n()(),t.rb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,r.jb,r.f)),t.qb(5,49152,null,0,a.n,[t.h,t.k,t.x],null,null),(n()(),t.rb(6,0,null,0,2,"ion-back-button",[["text",""]],null,[[null,"click"]],(function(n,l,u){var e=!0;return"click"===l&&(e=!1!==t.Db(n,8).onClick(u)&&e),e}),r.gb,r.c)),t.qb(7,49152,null,0,a.i,[t.h,t.k,t.x],{defaultHref:[0,"defaultHref"],text:[1,"text"]},null),t.qb(8,16384,null,0,a.j,[[2,a.kb],a.Lb],{defaultHref:[0,"defaultHref"]},null),(n()(),t.gb(16777216,null,0,1,null,L)),t.qb(10,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(n()(),t.gb(0,[["SIGNUP_AND_BIND",2]],0,0,null,T)),(n()(),t.gb(0,[["SIGNUP_TITLE",2]],0,0,null,G)),(n()(),t.rb(13,0,null,null,58,"ion-content",[],null,null,null,r.rb,r.n)),t.qb(14,49152,null,0,a.w,[t.h,t.k,t.x],null,null),(n()(),t.rb(15,0,null,0,0,"div",[["class","ion-margin"]],null,null,null,null,null)),(n()(),t.rb(16,0,null,0,55,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,u){var e=!0,o=n.component;return"submit"===l&&(e=!1!==t.Db(n,18).onSubmit(u)&&e),"reset"===l&&(e=!1!==t.Db(n,18).onReset()&&e),"submit"===l&&(e=!1!==o.doSignup()&&e),e}),null,null)),t.qb(17,16384,null,0,s.t,[],null,null),t.qb(18,4210688,null,0,s.m,[[8,null],[8,null]],null,null),t.Gb(2048,null,s.b,null,[s.m]),t.qb(20,16384,null,0,s.l,[[4,s.b]],null,null),(n()(),t.rb(21,0,null,null,50,"ion-grid",[],null,null,null,r.vb,r.r)),t.qb(22,49152,null,0,a.C,[t.h,t.k,t.x],null,null),(n()(),t.gb(16777216,null,0,1,null,N)),t.qb(24,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(n()(),t.rb(25,0,null,0,13,"div",[["class","account-row border-bottom"]],null,null,null,null,null)),(n()(),t.rb(26,0,null,null,3,"div",[["class","country"]],null,[[null,"click"]],(function(n,l,u){var t=!0;return"click"===l&&(t=!1!==n.component.doSelectCountry()&&t),t}),null,null)),(n()(),t.rb(27,0,null,null,2,"ion-label",[],null,null,null,r.Gb,r.C)),t.qb(28,49152,null,0,a.P,[t.h,t.k,t.x],null,null),(n()(),t.Jb(29,0,["",""])),(n()(),t.rb(30,0,null,null,8,"div",[["class","full-wrapper"]],null,null,null,null,null)),(n()(),t.rb(31,0,null,null,7,"ion-input",[["class","mobile"],["debounce","1000"],["name","mobilephone"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],(function(n,l,u){var e=!0,o=n.component;return"ionBlur"===l&&(e=!1!==t.Db(n,34)._handleBlurEvent(u.target)&&e),"ionChange"===l&&(e=!1!==t.Db(n,34)._handleInputEvent(u.target)&&e),"ngModelChange"===l&&(e=!1!==(o.account.mobilephone=u)&&e),"ionChange"===l&&(e=!1!==o.validateInput()&&e),e}),r.Bb,r.x)),t.qb(32,49152,null,0,a.I,[t.h,t.k,t.x],{debounce:[0,"debounce"],name:[1,"name"],placeholder:[2,"placeholder"],type:[3,"type"]},null),t.Eb(131072,b.j,[b.k,t.h]),t.qb(34,16384,null,0,a.Rb,[t.k],null,null),t.Gb(1024,null,s.i,(function(n){return[n]}),[a.Rb]),t.qb(36,671744,null,0,s.n,[[2,s.b],[8,null],[8,null],[6,s.i]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Gb(2048,null,s.j,null,[s.n]),t.qb(38,16384,null,0,s.k,[[4,s.j]],null,null),(n()(),t.rb(39,0,null,0,1,"identity-code",[],null,[[null,"emitter"]],(function(n,l,u){var t=!0;return"emitter"===l&&(t=!1!==n.component.receiveVal(u)&&t),t}),g.b,g.a)),t.qb(40,638976,null,0,d.a,[s.d,h.a,p.b],{clientId:[0,"clientId"],errorString:[1,"errorString"]},{emitter:"emitter"}),(n()(),t.rb(41,0,null,0,14,"div",[["class","password-row border-bottom margin-bottom"]],null,null,null,null,null)),(n()(),t.rb(42,0,null,null,8,"div",[["class","full-wrapper"]],null,null,null,null,null)),(n()(),t.rb(43,0,null,null,7,"ion-input",[["name","verifyCode"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],(function(n,l,u){var e=!0,o=n.component;return"ionBlur"===l&&(e=!1!==t.Db(n,46)._handleBlurEvent(u.target)&&e),"ionChange"===l&&(e=!1!==t.Db(n,46)._handleInputEvent(u.target)&&e),"ngModelChange"===l&&(e=!1!==(o.account.verifyCode=u)&&e),"ionChange"===l&&(e=!1!==o.validateInput()&&e),e}),r.Bb,r.x)),t.qb(44,49152,null,0,a.I,[t.h,t.k,t.x],{name:[0,"name"],placeholder:[1,"placeholder"],type:[2,"type"]},null),t.Eb(131072,b.j,[b.k,t.h]),t.qb(46,16384,null,0,a.Rb,[t.k],null,null),t.Gb(1024,null,s.i,(function(n){return[n]}),[a.Rb]),t.qb(48,671744,null,0,s.n,[[2,s.b],[8,null],[8,null],[6,s.i]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Gb(2048,null,s.j,null,[s.n]),t.qb(50,16384,null,0,s.k,[[4,s.j]],null,null),(n()(),t.rb(51,0,null,null,4,"div",[["class","comfirm-button"]],null,null,null,null,null)),(n()(),t.gb(16777216,null,null,1,null,U)),t.qb(53,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(n()(),t.gb(16777216,null,null,1,null,j)),t.qb(55,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(n()(),t.rb(56,0,null,0,9,"div",[["class","password-row margin-bottom"]],null,null,null,null,null)),(n()(),t.rb(57,0,null,null,4,"div",[["class","checkbox-button"]],null,null,null,null,null)),(n()(),t.rb(58,0,null,null,3,"ion-checkbox",[],null,[[null,"ionChange"],[null,"ionBlur"]],(function(n,l,u){var e=!0,o=n.component;return"ionBlur"===l&&(e=!1!==t.Db(n,61)._handleBlurEvent(u.target)&&e),"ionChange"===l&&(e=!1!==t.Db(n,61)._handleIonChange(u.target)&&e),"ionChange"===l&&(e=!1!==o.exchangeState()&&e),e}),r.ob,r.k)),t.Gb(5120,null,s.i,(function(n){return[n]}),[a.d]),t.qb(60,49152,null,0,a.t,[t.h,t.k,t.x],{checked:[0,"checked"]},null),t.qb(61,16384,null,0,a.d,[t.k],null,null),(n()(),t.rb(62,0,null,null,3,"div",[["class","full-wrapper"]],null,null,null,null,null)),(n()(),t.rb(63,0,null,null,2,"privacy-policy",[],null,null,null,m.b,m.a)),t.qb(64,114688,null,0,f.a,[a.Lb,v.a,a.Kb,C.a,P.m],{agreeText:[0,"agreeText"],language:[1,"language"]},null),t.Eb(131072,b.j,[b.k,t.h]),(n()(),t.rb(66,0,null,0,5,"div",[["class","button-row"]],null,null,null,null,null)),(n()(),t.rb(67,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),t.rb(68,0,null,null,3,"ion-button",[["color","primary"],["expand","block"],["type","submit"]],null,null,null,r.ib,r.e)),t.qb(69,49152,null,0,a.m,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"],type:[3,"type"]},null),(n()(),t.Jb(70,0,[" ",""])),t.Eb(131072,b.j,[b.k,t.h])],(function(n,l){var u=l.component;n(l,7,0,u.defaultUrl,""),n(l,8,0,u.defaultUrl),n(l,10,0,u.fromWechatLogin||u.fromAppleLogin,t.Db(l,11),t.Db(l,12)),n(l,24,0,u.fromWechatLogin||u.fromAppleLogin),n(l,32,0,"1000","mobilephone",t.vb(1,"",t.Kb(l,32,2,t.Db(l,33).transform("SIGNUP_MOBILEPHONE")),""),"text"),n(l,36,0,"mobilephone",u.account.mobilephone),n(l,40,0,u.account.country+" "+u.account.mobilephone,u.errorString),n(l,44,0,"verifyCode",t.vb(1,"",t.Kb(l,44,1,t.Db(l,45).transform("SIGNUP_VERIFYCODE_PLACEHOLDER")),""),"text"),n(l,48,0,"verifyCode",u.account.verifyCode),n(l,53,0,u.verifyButtonEnabled),n(l,55,0,!u.verifyButtonEnabled),n(l,60,0,u.isReadPolicy),n(l,64,0,t.vb(1,"",t.Kb(l,64,0,t.Db(l,65).transform("SIGNUP_REGISTER_AGREE_PRIVACY")),""),t.vb(1,"",u.language,"")),n(l,69,0,"primary",!u.switch||!u.isReadPolicy,"block","submit")}),(function(n,l){var u=l.component;n(l,16,0,t.Db(l,20).ngClassUntouched,t.Db(l,20).ngClassTouched,t.Db(l,20).ngClassPristine,t.Db(l,20).ngClassDirty,t.Db(l,20).ngClassValid,t.Db(l,20).ngClassInvalid,t.Db(l,20).ngClassPending),n(l,29,0,u.account.country),n(l,31,0,t.Db(l,38).ngClassUntouched,t.Db(l,38).ngClassTouched,t.Db(l,38).ngClassPristine,t.Db(l,38).ngClassDirty,t.Db(l,38).ngClassValid,t.Db(l,38).ngClassInvalid,t.Db(l,38).ngClassPending),n(l,43,0,t.Db(l,50).ngClassUntouched,t.Db(l,50).ngClassTouched,t.Db(l,50).ngClassPristine,t.Db(l,50).ngClassDirty,t.Db(l,50).ngClassValid,t.Db(l,50).ngClassInvalid,t.Db(l,50).ngClassPending),n(l,70,0,t.Kb(l,70,0,t.Db(l,71).transform("SIGNUP_SUBMIT")))}))}function J(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,1,"page-signup",[],null,null,null,A,w)),t.qb(1,114688,null,0,E,[P.m,a.Lb,a.Kb,h.a,a.Sb,b.k,v.a,M.a,O.a,q.a,R.a,I.a,D.a],null,null)],(function(n,l){n(l,1,0)}),null)}var V=t.nb("page-signup",E,J,{},{},[]),K=u("j1ZV");u.d(l,"SignupPageModuleNgFactory",(function(){return F}));var F=t.ob(e,[],(function(n){return t.Ab([t.Bb(512,t.j,t.Z,[[8,[o.a,V]],[3,t.j],t.v]),t.Bb(4608,c.l,c.k,[t.s,[2,c.A]]),t.Bb(4608,a.c,a.c,[t.x,t.g]),t.Bb(4608,a.Kb,a.Kb,[a.c,t.j,t.p]),t.Bb(4608,a.Ob,a.Ob,[a.c,t.j,t.p]),t.Bb(4608,s.r,s.r,[]),t.Bb(4608,s.d,s.d,[]),t.Bb(4608,b.g,b.f,[]),t.Bb(4608,b.c,b.e,[]),t.Bb(4608,b.i,b.d,[]),t.Bb(4608,b.b,b.a,[]),t.Bb(4608,b.k,b.k,[b.l,b.g,b.c,b.i,b.b,b.m,b.n]),t.Bb(5120,t.d,(function(n,l,u){return[a.Ub(n,l,u)]}),[a.Tb,c.c,t.x]),t.Bb(1073742336,P.n,P.n,[[2,P.t],[2,P.m]]),t.Bb(1073742336,b.h,b.h,[]),t.Bb(1073742336,c.b,c.b,[]),t.Bb(1073742336,a.Gb,a.Gb,[]),t.Bb(1073742336,s.q,s.q,[]),t.Bb(1073742336,s.h,s.h,[]),t.Bb(1073742336,s.o,s.o,[]),t.Bb(1073742336,K.a,K.a,[]),t.Bb(1073742336,e,e,[]),t.Bb(256,b.n,void 0,[]),t.Bb(256,b.m,void 0,[]),t.Bb(256,a.Tb,void 0,[]),t.Bb(1024,P.k,(function(){return[[{path:"",component:E}]]}),[])])}))}}]);