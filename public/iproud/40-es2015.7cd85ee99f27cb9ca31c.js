(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{LnaK:function(n,t,e){"use strict";e.r(t);var l=e("8Y7J");class i{}var s=e("pMnS"),r=e("oBZk"),o=e("ZZ/e"),u=e("TSSN"),a=e("s7LF"),h=e("SVse"),b=e("mrSG"),c=e("mGGX"),g=e("yHx4"),d=e("vYBf"),v=e("sj5I"),C=e("U7T7"),m=e("TY44"),p=e("o0su"),f=(e("Q1LM"),e("riPR")),S=e("hAUF");class E extends c.h{constructor(n,t,e,l,i,s,r,o,u,a,h,b,c,g,d,v,m){super(m,S.b.MyPage,u),this.navCtrl=n,this.settings=t,this.formBuilder=e,this.translate=l,this.storageService=i,this.userProvider=s,this.alertCtrl=r,this.eventsService=o,this.session=u,this.nativeService=a,this.cacheProvider=h,this.jpushService=b,this.widgetProvider=c,this.serverProvider=g,this.configProvider=d,this.activatedRoute=v,this.router=m,this.isThemeAvailable=!1,this.openWay=C.B.IFRAME,this.settingsReady=!1,this.isEmployee=!1,this.browserCore=!1,this.cacheSize=0,this.cacheString="",this.isAdmin=!1,this.isBeta=!1,this.languages=C.A,this.browserCoreKey="browserCore",this.openWays=[]}ngOnInit(){this.isAdmin=this.params.isAdmin,this.isBeta=C.h,this.userId=this.params.userId,this.eventsService.on(C.m.ClearImage,()=>{this.cacheSize=0,this.cacheString=p.a.toCacheFormatString(this.cacheSize),console.log("this.cacheString",this.cacheString)}),this.initBrowserCore(),this.browserCoreKey=this.userId+this.browserCoreKey;for(const n of Object.keys(C.B))this.openWays.push({label:n,value:C.B[n]});this.isThemeAvailable=this.nativeService.isIOS13(),this.form=this.formBuilder.group({}),this.settings.allSettings?(this.options=this.settings.allSettings,this.options.optionDebug=this.serverProvider.isDebug,this._buildForm(),this.settingsReady=!0):this.settings.load().then(()=>{this.settingsReady=!0,this.options=this.settings.allSettings,this.options.optionDebug=this.serverProvider.isDebug,this._buildForm()}).catch(()=>{this.settingsReady=!0,this.options={optionReceiveNotify:!0,optionLanguage:"en-US",optionShowFabButton:!0,optionTheme:!1,optionDebug:C.i,isCollectErrorInfo:!0},this._buildForm()}),this.storageService.getItem(C.C.DATA.CACHE_SIZE).then(n=>{n||(n=0),this.cacheSize=n,this.cacheString=p.a.toCacheFormatString(this.cacheSize)}),this.isEmployee=this.session.isEmployee}_buildForm(){this.form=this.formBuilder.group({optionDebug:[this.options.optionDebug],optionBrowser:[this.options.optionBrowser],optionShowFabButton:[this.options.optionShowFabButton],optionTheme:[this.options.optionTheme],optionReceiveNotify:[this.options.optionReceiveNotify],optionLanguage:[this.params.language||this.options.optionLanguage],isCollectErrorInfo:[this.options.isCollectErrorInfo]}),this.form.valueChanges.subscribe(n=>{this.settings.merge(this.form.value)}),this.form.controls.isCollectErrorInfo.valueChanges.subscribe(n=>{this.storageService.setItem("isCollectErrorInfo",n)}),this.form.controls.optionLanguage.valueChanges.subscribe(n=>{this.session.widget=null,this.configProvider.changeLanguage(n,!1),this.userProvider.getUserInfo()}),this.form.controls.optionShowFabButton.valueChanges.subscribe(n=>{this.eventsService.emit(C.x.Changed,n)}),this.form.controls.optionDebug.valueChanges.subscribe(n=>{this.storageService.setItem("isdebug",n);let t="";t=this.translate.instant(n?"VERSION_EXCHANGE_TO_DEBUG":"VERSION_EXCHANGE_TO_RELEASE"),this.nativeService.showToast(t)}),this.form.controls.optionBrowser.valueChanges.subscribe(n=>{this.browserCore=n,this.widgetProvider.innerBrowser=n,this.storageService.setItem(this.session.userId+"openWay",this.openWay),this.storageService.setItem(this.browserCoreKey,n),this.eventsService.emit(C.x.ChangeBrowserOpenWay,n,this.openWay)}),this.form.controls.optionTheme.valueChanges.subscribe(n=>{this.session.isDarkMode=n,this.storageService.setItem(C.C.SETTING.OPTIONTHEME,n),this.eventsService.emit(C.x.ChangeTheme,n),clearTimeout(this.timer),this.timer=setTimeout(()=>{this.userProvider.privateSetting([{name:"appTheme",value:p.a.getThemeName(n)}]).subscribe(n=>{})},3e3)})}deleteCache(){return b.b(this,void 0,void 0,(function*(){const n=yield this.alertCtrl.create({header:this.translate.instant("SETTINGS_DELETE_CACHE"),message:this.translate.instant("SETTINGS_CACHE_INFO"),buttons:[{text:this.translate.instant("APP_COMMON_CANCEL"),role:"Cancel"},{text:this.translate.instant("APP_COMMON_CONFIRM"),handler:()=>{this.storageService.setItem("HistorySearch",[]),this.storageService.setItem("touch-coords",""),this.storageService.setItem("isShowFabButton",""),this.cacheProvider.clearImageCache(),this.cacheSize=0,this.userProvider.clearMemberCache().subscribe(n=>{this.cacheString=p.a.toCacheFormatString(this.cacheSize),this.nativeService.alert(this.translate.instant("SETTINGS_CACHE_COMPLETE"))},n=>{console.error(n)})}}]});yield n.present()}))}changeOpenWay(n){this.openWay=n,this.storageService.setItem(this.session.userId+"openWay",this.openWay),this.eventsService.emit(C.x.ChangeBrowserOpenWay,this.browserCore,this.openWay)}initBrowserCore(){return b.b(this,void 0,void 0,(function*(){const n=yield this.storageService.getItem(this.session.userId+"openWay"),t=yield this.storageService.getItem(this.browserCoreKey);t&&(this.browserCore=t),n&&(this.openWay=n)}))}}var D=e("3cf9"),I=e("n90K"),T=e("GAO8"),_=e("ZwiA"),y=e("6m4Z"),B=e("athu"),O=e("iInd"),R=l.pb({encapsulation:0,styles:[[".advance-options[_ngcontent-%COMP%]{-webkit-transition:-webkit-transform .51s;transition:-webkit-transform .51s;transition:transform .51s;transition:transform .51s,-webkit-transform .51s}.advance-options-hidden[_ngcontent-%COMP%]{-webkit-transform:translateY(1500px)!important;transform:translateY(1500px)!important;display:none}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:last-child{--inner-border-width:0;border-bottom:var(--border-primary)}"]],data:{}});function k(n){return l.Lb(0,[(n()(),l.rb(0,0,null,null,2,"ion-select-option",[],null,null,null,r.Tb,r.Q)),l.qb(1,49152,null,0,o.qb,[l.h,l.k,l.x],{value:[0,"value"]},null),(n()(),l.Jb(2,0,["",""]))],(function(n,t){n(t,1,0,l.vb(1,"",t.context.$implicit.value,""))}),(function(n,t){n(t,2,0,t.context.$implicit.name)}))}function P(n){return l.Lb(0,[(n()(),l.rb(0,0,null,null,12,"ion-item",[],null,null,null,r.Fb,r.y)),l.qb(1,49152,null,0,o.J,[l.h,l.k,l.x],null,null),(n()(),l.rb(2,0,null,0,3,"ion-label",[],null,null,null,r.Gb,r.C)),l.qb(3,49152,null,0,o.P,[l.h,l.k,l.x],null,null),(n()(),l.Jb(4,0,["",""])),l.Eb(131072,u.j,[u.k,l.h]),(n()(),l.rb(6,0,null,0,6,"ion-toggle",[["formControlName","optionShowFabButton"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,t,e){var i=!0;return"ionBlur"===t&&(i=!1!==l.Db(n,8)._handleBlurEvent(e.target)&&i),"ionChange"===t&&(i=!1!==l.Db(n,8)._handleIonChange(e.target)&&i),i}),r.gc,r.cb)),l.qb(7,49152,null,0,o.Db,[l.h,l.k,l.x],null,null),l.qb(8,16384,null,0,o.d,[l.k],null,null),l.Gb(1024,null,a.i,(function(n){return[n]}),[o.d]),l.qb(10,671744,null,0,a.f,[[3,a.b],[8,null],[8,null],[6,a.i],[2,a.s]],{name:[0,"name"]},null),l.Gb(2048,null,a.j,null,[a.f]),l.qb(12,16384,null,0,a.k,[[4,a.j]],null,null)],(function(n,t){n(t,10,0,"optionShowFabButton")}),(function(n,t){n(t,4,0,l.Kb(t,4,0,l.Db(t,5).transform("SETTINGS_ASSISTIVE_TOUCH"))),n(t,6,0,l.Db(t,12).ngClassUntouched,l.Db(t,12).ngClassTouched,l.Db(t,12).ngClassPristine,l.Db(t,12).ngClassDirty,l.Db(t,12).ngClassValid,l.Db(t,12).ngClassInvalid,l.Db(t,12).ngClassPending)}))}function N(n){return l.Lb(0,[(n()(),l.rb(0,0,null,null,56,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,t,e){var i=!0;return"submit"===t&&(i=!1!==l.Db(n,2).onSubmit(e)&&i),"reset"===t&&(i=!1!==l.Db(n,2).onReset()&&i),i}),null,null)),l.qb(1,16384,null,0,a.t,[],null,null),l.qb(2,540672,null,0,a.g,[[8,null],[8,null]],{form:[0,"form"]},null),l.Gb(2048,null,a.b,null,[a.g]),l.qb(4,16384,null,0,a.l,[[4,a.b]],null,null),(n()(),l.rb(5,0,null,null,51,"ion-list",[],null,null,null,r.Ib,r.D)),l.qb(6,49152,null,0,o.Q,[l.h,l.k,l.x],null,null),(n()(),l.rb(7,0,null,0,16,"ion-item",[["lines","inset"]],null,null,null,r.Fb,r.y)),l.qb(8,49152,null,0,o.J,[l.h,l.k,l.x],{lines:[0,"lines"]},null),(n()(),l.rb(9,0,null,0,3,"ion-label",[],null,null,null,r.Gb,r.C)),l.qb(10,49152,null,0,o.P,[l.h,l.k,l.x],null,null),(n()(),l.Jb(11,0,["",""])),l.Eb(131072,u.j,[u.k,l.h]),(n()(),l.rb(13,0,null,0,10,"ion-select",[["formControlName","optionLanguage"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,t,e){var i=!0;return"ionBlur"===t&&(i=!1!==l.Db(n,17)._handleBlurEvent(e.target)&&i),"ionChange"===t&&(i=!1!==l.Db(n,17)._handleChangeEvent(e.target)&&i),i}),r.Ub,r.P)),l.qb(14,49152,null,0,o.pb,[l.h,l.k,l.x],{cancelText:[0,"cancelText"],okText:[1,"okText"]},null),l.Eb(131072,u.j,[u.k,l.h]),l.Eb(131072,u.j,[u.k,l.h]),l.qb(17,16384,null,0,o.Qb,[l.k],null,null),l.Gb(1024,null,a.i,(function(n){return[n]}),[o.Qb]),l.qb(19,671744,null,0,a.f,[[3,a.b],[8,null],[8,null],[6,a.i],[2,a.s]],{name:[0,"name"]},null),l.Gb(2048,null,a.j,null,[a.f]),l.qb(21,16384,null,0,a.k,[[4,a.j]],null,null),(n()(),l.gb(16777216,null,0,1,null,k)),l.qb(23,278528,null,0,h.i,[l.M,l.J,l.q],{ngForOf:[0,"ngForOf"]},null),(n()(),l.gb(16777216,null,0,1,null,P)),l.qb(25,16384,null,0,h.j,[l.M,l.J],{ngIf:[0,"ngIf"]},null),(n()(),l.rb(26,0,null,0,12,"ion-item",[["lines","none"]],null,null,null,r.Fb,r.y)),l.qb(27,49152,null,0,o.J,[l.h,l.k,l.x],{lines:[0,"lines"]},null),(n()(),l.rb(28,0,null,0,3,"ion-label",[],null,null,null,r.Gb,r.C)),l.qb(29,49152,null,0,o.P,[l.h,l.k,l.x],null,null),(n()(),l.Jb(30,0,["",""])),l.Eb(131072,u.j,[u.k,l.h]),(n()(),l.rb(32,0,null,0,6,"ion-toggle",[["formControlName","optionTheme"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,t,e){var i=!0;return"ionBlur"===t&&(i=!1!==l.Db(n,34)._handleBlurEvent(e.target)&&i),"ionChange"===t&&(i=!1!==l.Db(n,34)._handleIonChange(e.target)&&i),i}),r.gc,r.cb)),l.qb(33,49152,null,0,o.Db,[l.h,l.k,l.x],null,null),l.qb(34,16384,null,0,o.d,[l.k],null,null),l.Gb(1024,null,a.i,(function(n){return[n]}),[o.d]),l.qb(36,671744,null,0,a.f,[[3,a.b],[8,null],[8,null],[6,a.i],[2,a.s]],{name:[0,"name"]},null),l.Gb(2048,null,a.j,null,[a.f]),l.qb(38,16384,null,0,a.k,[[4,a.j]],null,null),(n()(),l.rb(39,0,null,0,0,"div",[["class","divider"]],null,null,null,null,null)),(n()(),l.rb(40,0,null,0,12,"ion-item",[],null,null,null,r.Fb,r.y)),l.qb(41,49152,null,0,o.J,[l.h,l.k,l.x],null,null),(n()(),l.rb(42,0,null,0,3,"ion-label",[],null,null,null,r.Gb,r.C)),l.qb(43,49152,null,0,o.P,[l.h,l.k,l.x],null,null),(n()(),l.Jb(44,0,["",""])),l.Eb(131072,u.j,[u.k,l.h]),(n()(),l.rb(46,0,null,0,6,"ion-toggle",[["formControlName","isCollectErrorInfo"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,t,e){var i=!0;return"ionBlur"===t&&(i=!1!==l.Db(n,48)._handleBlurEvent(e.target)&&i),"ionChange"===t&&(i=!1!==l.Db(n,48)._handleIonChange(e.target)&&i),i}),r.gc,r.cb)),l.qb(47,49152,null,0,o.Db,[l.h,l.k,l.x],null,null),l.qb(48,16384,null,0,o.d,[l.k],null,null),l.Gb(1024,null,a.i,(function(n){return[n]}),[o.d]),l.qb(50,671744,null,0,a.f,[[3,a.b],[8,null],[8,null],[6,a.i],[2,a.s]],{name:[0,"name"]},null),l.Gb(2048,null,a.j,null,[a.f]),l.qb(52,16384,null,0,a.k,[[4,a.j]],null,null),(n()(),l.rb(53,0,null,0,3,"ion-item",[],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.deleteCache()&&l),l}),r.Fb,r.y)),l.qb(54,49152,null,0,o.J,[l.h,l.k,l.x],null,null),(n()(),l.Jb(55,0,[" ",""," "])),l.Eb(131072,u.j,[u.k,l.h])],(function(n,t){var e=t.component;n(t,2,0,e.form),n(t,8,0,"inset"),n(t,14,0,l.vb(1,"",l.Kb(t,14,0,l.Db(t,15).transform("APP_COMMON_CANCEL")),""),l.vb(1,"",l.Kb(t,14,1,l.Db(t,16).transform("APP_COMMON_CONFIRM")),"")),n(t,19,0,"optionLanguage"),n(t,23,0,e.languages),n(t,25,0,e.isEmployee),n(t,27,0,"none"),n(t,36,0,"optionTheme"),n(t,50,0,"isCollectErrorInfo")}),(function(n,t){var e=t.component;n(t,0,0,l.Db(t,4).ngClassUntouched,l.Db(t,4).ngClassTouched,l.Db(t,4).ngClassPristine,l.Db(t,4).ngClassDirty,l.Db(t,4).ngClassValid,l.Db(t,4).ngClassInvalid,l.Db(t,4).ngClassPending),n(t,11,0,l.Kb(t,11,0,l.Db(t,12).transform("SETTINGS_OPTION_LANGUAGE"))),n(t,13,0,l.Db(t,21).ngClassUntouched,l.Db(t,21).ngClassTouched,l.Db(t,21).ngClassPristine,l.Db(t,21).ngClassDirty,l.Db(t,21).ngClassValid,l.Db(t,21).ngClassInvalid,l.Db(t,21).ngClassPending),n(t,30,0,l.Kb(t,30,0,l.Db(t,31).transform("SETTINGS_DARK_THEME"))),n(t,32,0,l.Db(t,38).ngClassUntouched,l.Db(t,38).ngClassTouched,l.Db(t,38).ngClassPristine,l.Db(t,38).ngClassDirty,l.Db(t,38).ngClassValid,l.Db(t,38).ngClassInvalid,l.Db(t,38).ngClassPending),n(t,44,0,l.Kb(t,44,0,l.Db(t,45).transform("SETTINGS_SEND_ERROR_REPORT"))),n(t,46,0,l.Db(t,52).ngClassUntouched,l.Db(t,52).ngClassTouched,l.Db(t,52).ngClassPristine,l.Db(t,52).ngClassDirty,l.Db(t,52).ngClassValid,l.Db(t,52).ngClassInvalid,l.Db(t,52).ngClassPending),n(t,55,0,l.Kb(t,55,0,l.Db(t,56).transform("SETTINGS_DELETE_CACHE")),e.cacheString)}))}function w(n){return l.Lb(0,[(n()(),l.rb(0,0,null,null,12,"ion-header",[],null,null,null,r.wb,r.s)),l.qb(1,49152,null,0,o.D,[l.h,l.k,l.x],null,null),(n()(),l.rb(2,0,null,0,10,"ion-toolbar",[],null,null,null,r.hc,r.db)),l.qb(3,49152,null,0,o.Eb,[l.h,l.k,l.x],null,null),(n()(),l.rb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,r.jb,r.f)),l.qb(5,49152,null,0,o.n,[l.h,l.k,l.x],null,null),(n()(),l.rb(6,0,null,0,2,"ion-back-button",[["text",""]],null,[[null,"click"]],(function(n,t,e){var i=!0;return"click"===t&&(i=!1!==l.Db(n,8).onClick(e)&&i),i}),r.gb,r.c)),l.qb(7,49152,null,0,o.i,[l.h,l.k,l.x],{defaultHref:[0,"defaultHref"],text:[1,"text"]},null),l.qb(8,16384,null,0,o.j,[[2,o.kb],o.Lb],{defaultHref:[0,"defaultHref"]},null),(n()(),l.rb(9,0,null,0,3,"ion-title",[],null,null,null,r.fc,r.bb)),l.qb(10,49152,null,0,o.Cb,[l.h,l.k,l.x],null,null),(n()(),l.Jb(11,0,["",""])),l.Eb(131072,u.j,[u.k,l.h]),(n()(),l.rb(13,0,null,null,3,"ion-content",[],null,null,null,r.rb,r.n)),l.qb(14,49152,null,0,o.w,[l.h,l.k,l.x],null,null),(n()(),l.gb(16777216,null,0,1,null,N)),l.qb(16,16384,null,0,h.j,[l.M,l.J],{ngIf:[0,"ngIf"]},null)],(function(n,t){var e=t.component;n(t,7,0,e.defaultUrl,""),n(t,8,0,e.defaultUrl),n(t,16,0,e.settingsReady)}),(function(n,t){n(t,11,0,l.Kb(t,11,0,l.Db(t,12).transform("SETTINGS_TITLE")))}))}function x(n){return l.Lb(0,[(n()(),l.rb(0,0,null,null,1,"page-settings",[],null,null,null,w,R)),l.qb(1,114688,null,0,E,[o.Lb,D.a,a.d,u.k,I.a,T.a,o.b,f.a,_.a,y.a,m.a,B.a,v.a,d.a,g.a,O.a,O.m],null,null)],(function(n,t){n(t,1,0)}),null)}var A=l.nb("page-settings",E,x,{},{},[]),U=e("iTUp");e.d(t,"SettingsPageModuleNgFactory",(function(){return q}));var q=l.ob(i,[],(function(n){return l.Ab([l.Bb(512,l.j,l.Z,[[8,[s.a,A]],[3,l.j],l.v]),l.Bb(4608,h.l,h.k,[l.s,[2,h.A]]),l.Bb(4608,o.c,o.c,[l.x,l.g]),l.Bb(4608,o.Kb,o.Kb,[o.c,l.j,l.p]),l.Bb(4608,o.Ob,o.Ob,[o.c,l.j,l.p]),l.Bb(4608,a.r,a.r,[]),l.Bb(4608,a.d,a.d,[]),l.Bb(4608,u.g,u.f,[]),l.Bb(4608,u.c,u.e,[]),l.Bb(4608,u.i,u.d,[]),l.Bb(4608,u.b,u.a,[]),l.Bb(4608,u.k,u.k,[u.l,u.g,u.c,u.i,u.b,u.m,u.n]),l.Bb(1073742336,h.b,h.b,[]),l.Bb(1073742336,o.Gb,o.Gb,[]),l.Bb(1073742336,O.n,O.n,[[2,O.t],[2,O.m]]),l.Bb(1073742336,u.h,u.h,[]),l.Bb(1073742336,a.q,a.q,[]),l.Bb(1073742336,a.h,a.h,[]),l.Bb(1073742336,a.o,a.o,[]),l.Bb(1073742336,U.a,U.a,[]),l.Bb(1073742336,i,i,[]),l.Bb(1024,O.k,(function(){return[[{path:"",component:E}]]}),[]),l.Bb(256,u.n,void 0,[]),l.Bb(256,u.m,void 0,[])])}))},TDSW:function(n,t,e){"use strict";e.d(t,"a",(function(){return u}));var l=e("mrSG"),i=e("hAUF"),s=e("ZOGp"),r=e("YsCg"),o=e("93YN");class u{constructor(n,t,e,l,i,s){this.modalCtrl=n,this.authProvider=t,this.navCtrl=e,this.router=l,this.translateService=i,this.nativeService=s}doSelectCountry(){return new Promise((n,t)=>l.b(this,void 0,void 0,(function*(){const e=yield this.modalCtrl.create({component:o.a,componentProps:{isNeedAll:!0}});e.onDidDismiss().then(t=>{n(t.data)}).catch(n=>{t(n)}),yield e.present()})))}SendSecurityCode(n){return new Promise((t,e)=>l.b(this,void 0,void 0,(function*(){this.authProvider.SendSecurityCode2(n).subscribe(n=>{t("")},n=>{t(n)})})))}LoginByWFAccount(n){return new Promise((t,e)=>l.b(this,void 0,void 0,(function*(){this.authProvider.LoginByWFAccount2(n).subscribe(n=>{this.setTabsToRoot()},n=>{t(n)})})))}Login(n){return new Promise((t,e)=>l.b(this,void 0,void 0,(function*(){this.authProvider.Login2(n).subscribe(n=>{this.setTabsToRoot()},n=>{t(n)})})))}login(n,t,e,i){return new Promise((e,i)=>l.b(this,void 0,void 0,(function*(){switch(n){case r.j.SendSecurityCodeBefore:this.authProvider.SendSecurityCode2(t).subscribe(n=>{e("")},n=>{e(n)});break;case r.j.LoginByWFAccountBefore:this.authProvider.LoginByWFAccount2(t).subscribe(n=>{this.setTabsToRoot()},n=>{e(n)});break;case r.j.LoginByMobileBefore:this.authProvider.Login2(t).subscribe(n=>{this.setTabsToRoot()},n=>{e(n)})}})))}setTabsToRoot(){this.router.navigate([i.b.HomePage],{replaceUrl:!0})}verificationErrorHandle(n,t){return n.errcode===s.a.USER.INCORRECT_VERIFICATION_CODE?this.translateService.instant("VERIFICATION_CODE_INCORRECT")+";"+Date.now():n.errcode===s.a.USER.VERIFICATION_CODE_EXPIRED?this.translateService.instant("VERIFICATION_CODE_EXPIRED")+";"+Date.now():void this.loginError(n)}loginError(n){let t="";switch(n.errcode){case s.a.USER.INACTIVE_USER:t="ACCOUNT_LOCKED";break;case s.a.USER.USER_NOT_EXIST:t="LOGIN_ERROR_USER_NOT_EXIST";break;case s.a.USER.MOBILE_NOT_EXIST:t="LOGIN_ERROR_PHONE_NUMBER_NOT_EXIST";break;case s.a.USER.INCORRECT_ACCOUNT_AND_PASSWORD:case s.a.USER.INCORRECT_PASSWORD:t="LOGIN_ERROR_INCORRECT_PASSWORD";break;default:t="LOGIN_ERROR"}this.nativeService.alert(n.errcode+","+this.translateService.instant(t))}}},mGGX:function(n,t,e){"use strict";var l=e("TDSW");e("mrSG"),e("wqKC"),e("93YN");class i{constructor(n,t){this.session=n,this.nativeService=t}ionViewWillEnter(){this.session.isDarkMode||this.nativeService.setStyleLightContent()}ionViewWillLeave(){this.nativeService.statusBarStyle(this.session.isDarkMode)}}e.d(t,"i",(function(){return r})),e.d(t,"a",(function(){return o})),e.d(t,"e",(function(){return u})),e.d(t,"b",(function(){return a})),e.d(t,"f",(function(){return b})),e.d(t,"h",(function(){return c})),e.d(t,"g",(function(){return g})),e.d(t,"c",(function(){return v})),e.d(t,"d",(function(){return m}));const s=n=>{let t={};const e=n.getCurrentNavigation().extras;return e&&e.state&&(t=e.state),t},r=(n,t)=>{let e=n||t.previousUrl;return t&&(e=t.previousUrl),e};class o{constructor(n){this.events=n}scrollWidth(n,t){return{width:n||window.screen.availWidth-5+"px",height:(t||44)+"px"}}completeRefresh(n){n&&n.target.complete()}completedoInfinite(n){n&&n.target.complete()}}class u{constructor(n,t){this.paramUrl=n,this.session=t,this.defaultUrl="",this.defaultUrl=r(n,this.session)}}class a{constructor(n){this.router=n,this.params=s(n)}}class h extends o{constructor(n,t){super(t),this.router=n,this.events=t,this.params=s(n)}}class b extends o{constructor(n,t,e){super(t),this.paramUrl=n,this.events=t,this.session=e,this.defaultUrl="",this.defaultUrl=r(n,e)}}class c extends u{constructor(n,t,e){super(t,e),this.router=n,this.paramUrl=t,this.session=e,this.defaultUrl="",this.params=s(n)}}class g extends h{constructor(n,t,e,l){super(n,e),this.router=n,this.paramUrl=t,this.events=e,this.session=l,this.defaultUrl="",this.defaultUrl=r(t,this.session)}}class d extends i{constructor(n,t,e){super(t,e),this.router=n,this.session=t,this.nativeService=e,this.params=s(n)}}class v extends d{constructor(n,t,e,l){super(n,t,e),this.router=n,this.session=t,this.nativeService=e,this.paramUrl=l,this.defaultUrl=r(l,t)}}class C extends l.a{constructor(n,t,e,l,i,r){super(t,e,l,n,i,r),this.router=n,this.modalCtrl=t,this.authProvider=e,this.navCtrl=l,this.translateService=i,this.nativeService=r,this.params=s(n)}}class m extends C{constructor(n,t,e,l,i,o,u,a){super(n,t,e,l,i,o),this.router=n,this.modalCtrl=t,this.authProvider=e,this.navCtrl=l,this.translateService=i,this.nativeService=o,this.paramUrl=u,this.session=a,this.params=s(n),this.defaultUrl=r(u,a)}}}}]);