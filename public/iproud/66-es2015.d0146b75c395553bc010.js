(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{IN03:function(l,n,t){"use strict";t.r(n);var u=t("8Y7J");class e{}var i=t("pMnS"),s=t("eyxi"),o=t("DWwY"),r=t("TSSN"),a=t("oBZk"),b=t("ZZ/e"),h=t("s7LF"),c=t("SVse"),d=t("VGsI"),g=t("ZwiA"),p=t("RXhJ"),k=t("geQG"),m=t("riPR");class D extends k.a{constructor(l,n,t,u,e){super(l,n,e),this.navCtrl=l,this.eventsService=n,this.workflowProvider=t,this.session=u,this.router=e,this.page=0,this.count=10,this.startDate=d.a.dateFormatByMiles((new Date).getTime()-6048e5),this.endDate=d.a.dateFormat(new Date),this.getFinishedTasks()}getFinishedTasks(l){this.workflowProvider.getFinishedTask(this.startDate,this.endDate).subscribe(n=>{super.completeRefresh(l),0===n.errcode&&(this.tasklist=n.result)},n=>{super.completeRefresh(l)})}searchTask(){this.page=0,this.createArray(!0),this.tasklist=this.showlist}getTaskListByDate(){const l=[];for(const n of this.tasklist)n.datecreated<=this.endDate&&n.datecreated>=this.startDate&&l.push(n);return l}goDetails(l){l.app_isEdit=!1,l.isFinished=!0,super.goDetails(l)}doRefresh(l){this.getFinishedTasks(l)}doInfinite(l){this.createArray(),setTimeout(()=>{l.target.complete()},1e3)}isMoreData(){const l=this.getTaskListByDate();l.length!==this.showlist.length&&l.length>0?(this.finiteScroll=!0,this.page++):this.finiteScroll=!1}createArray(l){l&&(this.showlist=[]);const n=this.page*this.count,t=this.getTaskListByDate();for(let u=n;u<n+this.count&&u<t.length;u++)this.showlist||(this.showlist=[]),this.showlist.push(t[u]);this.showlist&&0!==this.showlist.length||(this.finiteScroll=!1),this.isMoreData()}}var f=t("iInd"),x=u.pb({encapsulation:0,styles:[[".responsible[_ngcontent-%COMP%]{white-space:normal}.back-button[_ngcontent-%COMP%]{--color:#999!important}.list-title[_ngcontent-%COMP%]{white-space:normal;font-size:1.4rem;color:var(--text-primary-color)}.p[_ngcontent-%COMP%]{font-size:1.4rem;line-height:normal;text-overflow:inherit;color:#8e9093!important;margin:0 0 2px}.pid[_ngcontent-%COMP%]{font-size:1.1rem;right:30px;position:absolute;z-index:2;background:var(--bg-primary-color);padding:0 5px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.taskdate[_ngcontent-%COMP%]{float:right;font-size:1.1rem}"]],data:{}});function B(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,2,"data-hints",[],null,null,null,s.b,s.a)),u.qb(1,114688,null,0,o.a,[],{text:[0,"text"]},null),u.Eb(131072,r.j,[r.k,u.h])],(function(l,n){l(n,1,0,u.vb(1,"",u.Kb(n,1,0,u.Db(n,2).transform("WORKFLOW_DONETASK_HINT")),""))}),null)}function C(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,15,"ion-item",[["detail",""]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.goDetails(l.context.$implicit)&&u),u}),a.Fb,a.y)),u.qb(1,49152,null,0,b.J,[u.h,u.k,u.x],{detail:[0,"detail"]},null),(l()(),u.rb(2,0,null,0,13,"ion-label",[],null,null,null,a.Gb,a.C)),u.qb(3,49152,null,0,b.P,[u.h,u.k,u.x],null,null),(l()(),u.rb(4,0,null,0,3,"h2",[["class","list-title"]],null,null,null,null,null)),(l()(),u.Jb(5,null,[" "," \xa0\xa0"])),(l()(),u.rb(6,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Jb(7,null,[" ",""])),(l()(),u.rb(8,0,null,0,4,"p",[["class","taskdesc-box p"]],null,null,null,null,null)),(l()(),u.rb(9,0,null,null,1,"span",[["class","taskdesc"]],null,null,null,null,null)),(l()(),u.Jb(10,null,["",""])),(l()(),u.rb(11,0,null,null,1,"span",[["class","pid"]],null,null,null,null,null)),(l()(),u.Jb(12,null,["",""])),(l()(),u.rb(13,0,null,0,2,"p",[["class","p"]],null,null,null,null,null)),(l()(),u.rb(14,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Jb(15,null,[""," "]))],(function(l,n){l(n,1,0,"")}),(function(l,n){l(n,5,0,n.context.$implicit.processname),l(n,7,0,n.context.$implicit.completedate),l(n,10,0,n.context.$implicit.taskdesc),l(n,12,0,n.context.$implicit.pid),l(n,15,0,n.context.$implicit.responsiblename)}))}function v(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,43,"ion-header",[["no-shadow",""]],null,null,null,a.wb,a.s)),u.qb(1,49152,null,0,b.D,[u.h,u.k,u.x],null,null),(l()(),u.rb(2,0,null,0,5,"ion-toolbar",[["class","page-navbar"]],null,null,null,a.hc,a.db)),u.qb(3,49152,null,0,b.Eb,[u.h,u.k,u.x],null,null),(l()(),u.rb(4,0,null,0,3,"ion-title",[],null,null,null,a.fc,a.bb)),u.qb(5,49152,null,0,b.Cb,[u.h,u.k,u.x],null,null),(l()(),u.Jb(6,0,["",""])),u.Eb(131072,r.j,[r.k,u.h]),(l()(),u.rb(8,0,null,0,35,"ion-toolbar",[],null,null,null,a.hc,a.db)),u.qb(9,49152,null,0,b.Eb,[u.h,u.k,u.x],null,null),(l()(),u.rb(10,0,null,0,28,"div",[["class","ion-text-center"]],null,null,null,null,null)),(l()(),u.rb(11,0,null,null,27,"ion-list",[],null,null,null,a.Ib,a.D)),u.qb(12,49152,null,0,b.Q,[u.h,u.k,u.x],null,null),(l()(),u.rb(13,0,null,0,12,"ion-item",[["lines","inset"]],null,null,null,a.Fb,a.y)),u.qb(14,49152,null,0,b.J,[u.h,u.k,u.x],{lines:[0,"lines"]},null),(l()(),u.rb(15,0,null,0,3,"ion-label",[],null,null,null,a.Gb,a.C)),u.qb(16,49152,null,0,b.P,[u.h,u.k,u.x],null,null),(l()(),u.Jb(17,0,["",""])),u.Eb(131072,r.j,[r.k,u.h]),(l()(),u.rb(19,0,null,0,6,"ion-datetime",[["displayFormat","MM/DD/YYYY"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,t){var e=!0,i=l.component;return"ionBlur"===n&&(e=!1!==u.Db(l,21)._handleBlurEvent(t.target)&&e),"ionChange"===n&&(e=!1!==u.Db(l,21)._handleChangeEvent(t.target)&&e),"ngModelChange"===n&&(e=!1!==(i.startDate=t)&&e),e}),a.sb,a.o)),u.qb(20,49152,null,0,b.x,[u.h,u.k,u.x],{displayFormat:[0,"displayFormat"]},null),u.qb(21,16384,null,0,b.Qb,[u.k],null,null),u.Gb(1024,null,h.i,(function(l){return[l]}),[b.Qb]),u.qb(23,671744,null,0,h.n,[[8,null],[8,null],[8,null],[6,h.i]],{model:[0,"model"]},{update:"ngModelChange"}),u.Gb(2048,null,h.j,null,[h.n]),u.qb(25,16384,null,0,h.k,[[4,h.j]],null,null),(l()(),u.rb(26,0,null,0,12,"ion-item",[["lines","inset"]],null,null,null,a.Fb,a.y)),u.qb(27,49152,null,0,b.J,[u.h,u.k,u.x],{lines:[0,"lines"]},null),(l()(),u.rb(28,0,null,0,3,"ion-label",[],null,null,null,a.Gb,a.C)),u.qb(29,49152,null,0,b.P,[u.h,u.k,u.x],null,null),(l()(),u.Jb(30,0,["",""])),u.Eb(131072,r.j,[r.k,u.h]),(l()(),u.rb(32,0,null,0,6,"ion-datetime",[["displayFormat","MM/DD/YYYY"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,t){var e=!0,i=l.component;return"ionBlur"===n&&(e=!1!==u.Db(l,34)._handleBlurEvent(t.target)&&e),"ionChange"===n&&(e=!1!==u.Db(l,34)._handleChangeEvent(t.target)&&e),"ngModelChange"===n&&(e=!1!==(i.endDate=t)&&e),e}),a.sb,a.o)),u.qb(33,49152,null,0,b.x,[u.h,u.k,u.x],{displayFormat:[0,"displayFormat"]},null),u.qb(34,16384,null,0,b.Qb,[u.k],null,null),u.Gb(1024,null,h.i,(function(l){return[l]}),[b.Qb]),u.qb(36,671744,null,0,h.n,[[8,null],[8,null],[8,null],[6,h.i]],{model:[0,"model"]},{update:"ngModelChange"}),u.Gb(2048,null,h.j,null,[h.n]),u.qb(38,16384,null,0,h.k,[[4,h.j]],null,null),(l()(),u.rb(39,0,null,0,4,"ion-button",[["class","button button ion-padding-horizontal"],["color","medium"],["expand","block"],["size","small"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.getFinishedTasks()&&u),u}),a.ib,a.e)),u.qb(40,49152,null,0,b.m,[u.h,u.k,u.x],{color:[0,"color"],expand:[1,"expand"],size:[2,"size"]},null),(l()(),u.rb(41,0,null,0,2,"p",[],null,null,null,null,null)),(l()(),u.Jb(42,null,["",""])),u.Eb(131072,r.j,[r.k,u.h]),(l()(),u.rb(44,0,null,null,11,"ion-content",[],null,null,null,a.rb,a.n)),u.qb(45,49152,null,0,b.w,[u.h,u.k,u.x],null,null),(l()(),u.rb(46,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],(function(l,n,t){var u=!0;return"ionRefresh"===n&&(u=!1!==l.component.doRefresh(t)&&u),u}),a.Nb,a.I)),u.qb(47,49152,null,0,b.fb,[u.h,u.k,u.x],null,null),(l()(),u.rb(48,0,null,0,1,"ion-refresher-content",[["pullingIcon","arrow-dropdown"],["refreshingSpinner","circles"]],null,null,null,a.Mb,a.J)),u.qb(49,49152,null,0,b.gb,[u.h,u.k,u.x],{pullingIcon:[0,"pullingIcon"],refreshingSpinner:[1,"refreshingSpinner"]},null),(l()(),u.gb(16777216,null,0,1,null,B)),u.qb(51,16384,null,0,c.j,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.rb(52,0,null,0,3,"ion-list",[],null,null,null,a.Ib,a.D)),u.qb(53,49152,null,0,b.Q,[u.h,u.k,u.x],null,null),(l()(),u.gb(16777216,null,0,1,null,C)),u.qb(55,278528,null,0,c.i,[u.M,u.J,u.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var t=n.component;l(n,14,0,"inset"),l(n,20,0,"MM/DD/YYYY"),l(n,23,0,t.startDate),l(n,27,0,"inset"),l(n,33,0,"MM/DD/YYYY"),l(n,36,0,t.endDate),l(n,40,0,"medium","block","small"),l(n,49,0,"arrow-dropdown","circles"),l(n,51,0,!t.tasklist||0==(null==t.tasklist?null:t.tasklist.length)),l(n,55,0,t.tasklist)}),(function(l,n){l(n,6,0,u.Kb(n,6,0,u.Db(n,7).transform("WORKFLOW_DONETASK_TITLE"))),l(n,17,0,u.Kb(n,17,0,u.Db(n,18).transform("WORKFLOW_DONETASK_STARTDATE"))),l(n,19,0,u.Db(n,25).ngClassUntouched,u.Db(n,25).ngClassTouched,u.Db(n,25).ngClassPristine,u.Db(n,25).ngClassDirty,u.Db(n,25).ngClassValid,u.Db(n,25).ngClassInvalid,u.Db(n,25).ngClassPending),l(n,30,0,u.Kb(n,30,0,u.Db(n,31).transform("WORKFLOW_DONETASK_ENDDATE"))),l(n,32,0,u.Db(n,38).ngClassUntouched,u.Db(n,38).ngClassTouched,u.Db(n,38).ngClassPristine,u.Db(n,38).ngClassDirty,u.Db(n,38).ngClassValid,u.Db(n,38).ngClassInvalid,u.Db(n,38).ngClassPending),l(n,42,0,u.Kb(n,42,0,u.Db(n,43).transform("WORKFLOW_DONETASK_BUTTON")))}))}function w(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,1,"page-donetask",[],null,null,null,v,x)),u.qb(1,49152,null,0,D,[b.Lb,m.a,p.a,g.a,f.m],null,null)],null,null)}var q=u.nb("page-donetask",D,w,{},{},[]),T=t("j1ZV");t.d(n,"DonetaskPageModuleNgFactory",(function(){return M}));var M=u.ob(e,[],(function(l){return u.Ab([u.Bb(512,u.j,u.Z,[[8,[i.a,q]],[3,u.j],u.v]),u.Bb(4608,c.l,c.k,[u.s,[2,c.A]]),u.Bb(4608,b.c,b.c,[u.x,u.g]),u.Bb(4608,b.Kb,b.Kb,[b.c,u.j,u.p]),u.Bb(4608,b.Ob,b.Ob,[b.c,u.j,u.p]),u.Bb(4608,h.r,h.r,[]),u.Bb(4608,h.d,h.d,[]),u.Bb(4608,r.g,r.f,[]),u.Bb(4608,r.c,r.e,[]),u.Bb(4608,r.i,r.d,[]),u.Bb(4608,r.b,r.a,[]),u.Bb(4608,r.k,r.k,[r.l,r.g,r.c,r.i,r.b,r.m,r.n]),u.Bb(5120,u.d,(function(l,n,t){return[b.Ub(l,n,t)]}),[b.Tb,c.c,u.x]),u.Bb(1073742336,f.n,f.n,[[2,f.t],[2,f.m]]),u.Bb(1073742336,r.h,r.h,[]),u.Bb(1073742336,c.b,c.b,[]),u.Bb(1073742336,b.Gb,b.Gb,[]),u.Bb(1073742336,h.q,h.q,[]),u.Bb(1073742336,h.h,h.h,[]),u.Bb(1073742336,h.o,h.o,[]),u.Bb(1073742336,T.a,T.a,[]),u.Bb(1073742336,e,e,[]),u.Bb(256,r.n,void 0,[]),u.Bb(256,r.m,void 0,[]),u.Bb(256,b.Tb,void 0,[]),u.Bb(1024,f.k,(function(){return[[{path:"",component:D}]]}),[])])}))}}]);