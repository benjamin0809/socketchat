(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{cFso:function(l,n,t){"use strict";t.r(n);var e=t("8Y7J");class a{}var i=t("pMnS"),s=t("oBZk"),b=t("ZZ/e"),o=t("SVse"),u=(t("Q1LM"),t("o0su"),t("iInd")),h=t("pLZG"),c=t("7o/Q");class r{call(l,n){return n.subscribe(new d(l))}}class d extends c.a{constructor(l){super(l),this.hasPrev=!1}_next(l){let n;this.hasPrev?n=[this.prev,l]:this.hasPrev=!0,this.prev=l,n&&this.destination.next(n)}}var g=t("U7T7");class T{constructor(l,n,t,e,a,i,s){this.translateService=l,this.session=n,this.jpushService=t,this.cd=e,this.cacheProvider=a,this.eventsService=i,this.router=s,this.isSubPage=!1,this.tab1Title=" ",this.tab2Title=" ",this.tab3Title=" ",this.tab4Title=" ",this.tab5Title=" ",this.showSocial=!1,this.newMessageCount=0}ngAfterContentChecked(){this.showSocial=this.session.showSocial,this.detectChanges()}selectTab(l){this.tabRef.select(l)}detectChanges(){this.cd.destroyed||this.cd.detectChanges()}_setTabText(){this.translateService.get(["TABS_TAB1_TITLE","TABS_TAB2_TITLE","TABS_TAB3_TITLE","TABS_TAB4_TITLE","TABS_TAB5_TITLE"]).subscribe(l=>{this.tab1Title=l.TABS_TAB1_TITLE,this.tab2Title=l.TABS_TAB2_TITLE,this.tab3Title=l.TABS_TAB3_TITLE,this.tab4Title=l.TABS_TAB4_TITLE,this.tab5Title=l.TABS_TAB5_TITLE})}ngOnInit(){this.init("ngOnInit"),this._setTabText(),this.eventsService.on("selected:message",()=>{this.tabRef.select("message")}),this.eventsService.on(g.r.Changed,l=>{this._setTabText()}),this.eventsService.on(g.k.ToHomeMain,l=>{this.selectTab(0)}),this.eventsService.on(g.y.InfoChanged,()=>{this.init("from userinfo change")}),this.eventsService.on(g.u.CountChanged,l=>{this.newMessageCount=l>0?l:0,this.jpushService.setIosIconBadgeNumber(l),this.detectChanges()}),this.eventsService.on(g.l.MassFlagChange,()=>{this.init("from massFlagChange")}),this.translateService.onLangChange.subscribe(l=>{this._setTabText()}),this.router.events.pipe(Object(h.a)(l=>l instanceof u.q),l=>l.lift(new r)).subscribe(l=>{this.session.previousUrl=l[0].urlAfterRedirects})}init(l){this.session.userId&&(this.session.showSocial&&(this.showSocial=this.session.showSocial),this.cacheProvider.getSocialSetting().then(l=>{l.enableLocalSettingSocial&&(this.showSocial=l.showSocial,this.session.showSocial=l.showSocial),this.showSocial&&this.detectChanges()}).catch(l=>{console.error(l)}))}}var m=t("TSSN"),p=t("ZwiA"),B=t("athu"),S=t("TY44"),x=t("riPR"),v=e.pb({encapsulation:0,styles:[[".hide[_ngcontent-%COMP%]{display:none}.screen-shot[_ngcontent-%COMP%]{width:50px;height:50px;background-color:gray;opacity:.5;position:absolute;right:20px;bottom:50px;border-radius:50%}.club[_ngcontent-%COMP%]{display:block}.club-disable[_ngcontent-%COMP%], .hide-tabs[_ngcontent-%COMP%]   .tabbar[_ngcontent-%COMP%]{display:none}"]],data:{}});function C(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"ion-badge",[["color","danger"]],null,null,null,s.hb,s.d)),e.qb(1,49152,null,0,b.l,[e.h,e.k,e.x],{color:[0,"color"]},null),(l()(),e.Jb(2,0,["",""]))],(function(l,n){l(n,1,0,"danger")}),(function(l,n){l(n,2,0,n.component.newMessageCount)}))}function k(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,6,"ion-tab-button",[["tab","community"]],null,null,null,s.ac,s.W)),e.qb(1,49152,null,0,b.xb,[e.h,e.k,e.x],{tab:[0,"tab"]},null),(l()(),e.rb(2,0,null,0,1,"ion-icon",[["class","tab"],["name","ios-link"]],null,null,null,s.xb,s.t)),e.qb(3,49152,null,0,b.E,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.rb(4,0,null,0,2,"ion-label",[],null,null,null,s.Gb,s.C)),e.qb(5,49152,null,0,b.P,[e.h,e.k,e.x],null,null),(l()(),e.Jb(6,0,["",""]))],(function(l,n){l(n,1,0,"community"),l(n,3,0,"ios-link")}),(function(l,n){l(n,6,0,n.component.tab4Title)}))}function f(l){return e.Lb(0,[e.Hb(671088640,1,{tabRef:0}),(l()(),e.rb(1,0,null,null,36,"ion-tabs",[["id","rootTabs"]],null,[[null,"ionTabButtonClick"]],(function(l,n,t){var a=!0;return"ionTabButtonClick"===n&&(a=!1!==e.Db(l,2).select(t.detail.tab)&&a),a}),s.bc,s.X)),e.qb(2,49152,[[1,4],["mainTabs",4]],1,b.yb,[b.Lb],null,null),e.Hb(335544320,2,{tabBar:0}),(l()(),e.rb(4,0,null,1,33,"ion-tab-bar",[["slot","bottom"]],null,null,null,s.Zb,s.V)),e.qb(5,49152,[[2,4]],0,b.wb,[e.h,e.k,e.x],null,null),(l()(),e.rb(6,0,null,0,6,"ion-tab-button",[["tab","home"]],null,null,null,s.ac,s.W)),e.qb(7,49152,null,0,b.xb,[e.h,e.k,e.x],{tab:[0,"tab"]},null),(l()(),e.rb(8,0,null,0,1,"ion-icon",[["class","tab"],["name","home"]],null,null,null,s.xb,s.t)),e.qb(9,49152,null,0,b.E,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.rb(10,0,null,0,2,"ion-label",[],null,null,null,s.Gb,s.C)),e.qb(11,49152,null,0,b.P,[e.h,e.k,e.x],null,null),(l()(),e.Jb(12,0,["",""])),(l()(),e.rb(13,0,null,0,8,"ion-tab-button",[["tab","message"]],null,null,null,s.ac,s.W)),e.qb(14,49152,null,0,b.xb,[e.h,e.k,e.x],{tab:[0,"tab"]},null),(l()(),e.rb(15,0,null,0,1,"ion-icon",[["class","tab"],["name","ios-text"]],null,null,null,s.xb,s.t)),e.qb(16,49152,null,0,b.E,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.rb(17,0,null,0,2,"ion-label",[],null,null,null,s.Gb,s.C)),e.qb(18,49152,null,0,b.P,[e.h,e.k,e.x],null,null),(l()(),e.Jb(19,0,["",""])),(l()(),e.gb(16777216,null,0,1,null,C)),e.qb(21,16384,null,0,o.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(22,0,null,0,6,"ion-tab-button",[["tab","widget"]],null,null,null,s.ac,s.W)),e.qb(23,49152,null,0,b.xb,[e.h,e.k,e.x],{tab:[0,"tab"]},null),(l()(),e.rb(24,0,null,0,1,"ion-icon",[["class","tab"],["name","md-apps"]],null,null,null,s.xb,s.t)),e.qb(25,49152,null,0,b.E,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.rb(26,0,null,0,2,"ion-label",[],null,null,null,s.Gb,s.C)),e.qb(27,49152,null,0,b.P,[e.h,e.k,e.x],null,null),(l()(),e.Jb(28,0,["",""])),(l()(),e.gb(16777216,null,0,1,null,k)),e.qb(30,16384,null,0,o.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(31,0,null,0,6,"ion-tab-button",[["tab","my"]],null,null,null,s.ac,s.W)),e.qb(32,49152,null,0,b.xb,[e.h,e.k,e.x],{tab:[0,"tab"]},null),(l()(),e.rb(33,0,null,0,1,"ion-icon",[["class","tab"],["name","person"]],null,null,null,s.xb,s.t)),e.qb(34,49152,null,0,b.E,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.rb(35,0,null,0,2,"ion-label",[],null,null,null,s.Gb,s.C)),e.qb(36,49152,null,0,b.P,[e.h,e.k,e.x],null,null),(l()(),e.Jb(37,0,["",""]))],(function(l,n){var t=n.component;l(n,7,0,"home"),l(n,9,0,"home"),l(n,14,0,"message"),l(n,16,0,"ios-text"),l(n,21,0,t.newMessageCount>0),l(n,23,0,"widget"),l(n,25,0,"md-apps"),l(n,30,0,t.showSocial),l(n,32,0,"my"),l(n,34,0,"person")}),(function(l,n){var t=n.component;l(n,12,0,t.tab1Title),l(n,19,0,t.tab2Title),l(n,28,0,t.tab3Title),l(n,37,0,t.tab5Title)}))}function w(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"page-tabs",[],null,null,null,f,v)),e.qb(1,2211840,null,0,T,[m.k,p.a,B.a,e.h,S.a,x.a,u.m],null,null)],(function(l,n){l(n,1,0)}),null)}var _=e.nb("page-tabs",T,w,{},{},[]),P=t("s7LF");const M=()=>t.e(29).then(t.bind(null,"kYd/")).then(l=>l.HomePageModuleNgFactory),A=()=>Promise.all([t.e(0),t.e(63)]).then(t.bind(null,"nLkt")).then(l=>l.MessageSessionPageModuleNgFactory),q=()=>Promise.all([t.e(0),t.e(48)]).then(t.bind(null,"8OFU")).then(l=>l.WidgetListPageModuleNgFactory),y=()=>t.e(5).then(t.bind(null,"E0C0")).then(l=>l.WorkflowPageModuleNgFactory),L=()=>Promise.all([t.e(0),t.e(28)]).then(t.bind(null,"55Fb")).then(l=>l.CommunityPageModuleNgFactory),I=()=>t.e(64).then(t.bind(null,"FVpA")).then(l=>l.MyPageModuleNgFactory);class E{}t.d(n,"TabsPageModuleNgFactory",(function(){return F}));var F=e.ob(a,[],(function(l){return e.Ab([e.Bb(512,e.j,e.Z,[[8,[i.a,_]],[3,e.j],e.v]),e.Bb(4608,o.l,o.k,[e.s,[2,o.A]]),e.Bb(4608,b.c,b.c,[e.x,e.g]),e.Bb(4608,b.Kb,b.Kb,[b.c,e.j,e.p]),e.Bb(4608,b.Ob,b.Ob,[b.c,e.j,e.p]),e.Bb(4608,P.r,P.r,[]),e.Bb(4608,m.g,m.f,[]),e.Bb(4608,m.c,m.e,[]),e.Bb(4608,m.i,m.d,[]),e.Bb(4608,m.b,m.a,[]),e.Bb(4608,m.k,m.k,[m.l,m.g,m.c,m.i,m.b,m.m,m.n]),e.Bb(1073742336,o.b,o.b,[]),e.Bb(1073742336,b.Gb,b.Gb,[]),e.Bb(1073742336,P.q,P.q,[]),e.Bb(1073742336,P.h,P.h,[]),e.Bb(1073742336,m.h,m.h,[]),e.Bb(1073742336,u.n,u.n,[[2,u.t],[2,u.m]]),e.Bb(1073742336,E,E,[]),e.Bb(1073742336,a,a,[]),e.Bb(1024,u.k,(function(){return[[{path:"tabs",component:T,children:[{path:"home",children:[{path:"",loadChildren:M}]},{path:"message",children:[{path:"",loadChildren:A}]},{path:"widget",children:[{path:"",loadChildren:q},{path:"workflow",loadChildren:y}]},{path:"community",children:[{path:"",loadChildren:L}]},{path:"my",children:[{path:"",loadChildren:I}]},{path:"",redirectTo:"/tabs/home",pathMatch:"full"}]},{path:"",redirectTo:"/tabs/home",pathMatch:"full"}]]}),[]),e.Bb(256,m.n,void 0,[]),e.Bb(256,m.m,void 0,[])])}))}}]);