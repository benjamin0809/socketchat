{"version":3,"sources":["../../src/pages/home/sign/sign.module.ts","../../src/pages/home/sign/sign.ts"],"names":[],"mappings":"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","file":"62.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { SignPage } from './sign';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SignPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(SignPage),\r\n  ],\r\n})\r\nexport class SignPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/sign/sign.module.ts","import { TranslateService } from '@ngx-translate/core';\r\nimport { Session } from './../../../services/session';\r\nimport { Utility } from './../../../services/utility';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ActionSheetController } from 'ionic-angular'; \r\n/**\r\n * Generated class for the SignPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-sign',\r\n  templateUrl: 'sign.html',\r\n})\r\nexport class SignPage {\r\n\r\n  signList: Array<Object> = [];\r\n  displayList: Array<Object> = [];\r\n  select: string = 'week';\r\n  options: Array<Object>;\r\n  constructor(public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public session: Session,\r\n  private translateService: TranslateService,\r\n  public actionSheetCtrl: ActionSheetController) {\r\n  }\r\n\r\n  ionViewDidLoad() { \r\n    this.options = [{ name: this.translateService.instant('HOME_SIGN_WEEK'), id: \"1\", value: 'week' },\r\n     { name: this.translateService.instant('HOME_SIGN_MONTH'), id: \"2\", value: 'month' },\r\n     { name: this.translateService.instant('HOME_SIGN_QUARTER'), id: \"3\", value: 'months' }]\r\n\r\n      \r\n    for (let i = 0,j = 0, k= 0; i < 90; i++) {\r\n\r\n      let sign = {\r\n        id: i,\r\n        time: ''\r\n      }\r\n      const timestamp = +new Date();\r\n      if(i % 2 === 0){\r\n        const res = timestamp - k * 1000 * 60 * 60 * 24;\r\n        sign.time = Utility.formatSignTime(this.session.language,res )\r\n        k++;\r\n      }else{\r\n        j++;\r\n        const res = timestamp - (j * 24 - 16) * 1000 * 60 * 60 ;\r\n        sign.time = Utility.formatSignTime(this.session.language,res )\r\n        \r\n      }\r\n\r\n      \r\n      this.signList.push(sign)\r\n    }\r\n\r\n    this.selectOption(this.select)\r\n  }\r\n\r\n  filter(length) {\r\n    let temp = this.signList.sort((a,b)=>{\r\n      return new Date(b['time'].toString()).getTime() - new Date(a['time'].toString()).getTime() ;\r\n    }) \r\n    \r\n    return temp.filter((item,index) => index < length)\r\n \r\n \r\n  }\r\n\r\n \r\n  selectOption(select) {\r\n    this.select = select;\r\n    switch (select) {\r\n      case 'week': this.displayList = this.filter(7); break;\r\n      case 'month': this.displayList = this.filter(30); break;\r\n      case 'months': this.displayList = this.filter(90); break;\r\n      default: this.displayList = this.filter(7); break;\r\n    }\r\n  }\r\n\r\n  sign(){\r\n    this.signList.sort((a,b)=>{\r\n      return b['id'] - a['id'];\r\n    })\r\n\r\n    const max = this.signList[0]['id'];\r\n    let sign = {\r\n      id: max + 1,\r\n      time: Utility.formatSignTime(this.session.language, +new Date())\r\n    }\r\n\r\n    this.signList.push(sign)\r\n    this.selectOption(this.select)\r\n  }\r\n\r\n  presentActionSheet() {\r\n    let actionSheet = this.actionSheetCtrl.create({\r\n      title: 'Options',\r\n      buttons: [\r\n        {\r\n          text: this.options[0]['name'],\r\n          role: this.select === 'week'?'destructive':'',\r\n          icon: this.select === 'week'?'ios-checkmark':'',\r\n          handler: () => { \r\n            this.selectOption('week');\r\n          }\r\n        },\r\n        {\r\n          text: this.options[1]['name'],\r\n          role: this.select === 'month'?'destructive':'',\r\n          icon: this.select === 'month'?'ios-checkmark':'',\r\n          handler: () => { \r\n            this.selectOption('month');\r\n          }\r\n        },\r\n        {\r\n          text: this.options[2]['name'],\r\n          role: this.select === 'months'?'destructive':'',\r\n          icon: this.select === 'months'?'ios-checkmark':'',\r\n          handler: () => { \r\n            this.selectOption('months');\r\n          }\r\n        },\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n          handler: () => { \r\n          }\r\n        }\r\n      ]\r\n    });\r\n \r\n    actionSheet.present();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/sign/sign.ts"],"sourceRoot":""}