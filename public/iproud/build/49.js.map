{"version":3,"sources":["../../src/pages/recruitment/quick-registration/quick-registration.module.ts","../../src/pages/recruitment/quick-registration/quick-registration.ts"],"names":[],"mappings":"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","file":"49.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { QuickRegistrationPage } from './quick-registration';\r\n\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n@NgModule({\r\n  declarations: [\r\n    QuickRegistrationPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(QuickRegistrationPage),\r\n    TranslateModule.forChild()\r\n  ],\r\n})\r\nexport class QuickRegistrationPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/recruitment/quick-registration/quick-registration.module.ts","import { TranslateService } from '@ngx-translate/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { NativeService } from './../../../services/native-service';\r\nimport { DLApplyInfo } from './../../../models/DLApplyInfo';\r\nimport { Component, Sanitizer } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ActionSheetController } from 'ionic-angular';\r\nimport { DLRecruitingProvider } from './../../../providers/dl-recruiting-provider';\r\n/**\r\n * Generated class for the QuickRegistrationPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-quick-registration',\r\n  templateUrl: 'quick-registration.html',\r\n})\r\nexport class QuickRegistrationPage {\r\n\r\n\r\n  applyitem: DLApplyInfo; //申请表单 \r\n  sites: any[] //廠區数组\r\n  workposts: any[]; //工作岗位 \r\n  interviewdate: any[]; //面试日期     \r\n  constructor(public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public recruitingProvider: DLRecruitingProvider,\r\n    public nativeService: NativeService,\r\n    public sanitizer: DomSanitizer,\r\n    public actionSheetCtrl: ActionSheetController,\r\n    public translateService: TranslateService) {\r\n\r\n    const postItem = this.navParams.data.item;\r\n    this.applyitem = {\r\n      Mobile: '',\r\n      Name: '',\r\n      CardID: '',\r\n      InterviewDate: '',\r\n      Site: '',\r\n      Workpost: ''\r\n    }\r\n    this.recruitingProvider.GetSiteList().subscribe((data) => {\r\n      if (data.errcode == 0) {\r\n        this.sites = data.result;\r\n        if (!postItem) {/**没有传参，取默认第一条厂区编码 */\r\n          this.applyitem.Site = this.sites ? this.sites[0].name : ''\r\n          this.getRecuitmentInfo(data.result[0].code);\r\n        }\r\n      }\r\n    })\r\n    if (postItem) { /**有传参，取参数中厂区编码 */\r\n      this.applyitem.Site = postItem.siteName;\r\n      this.getRecuitmentInfo(postItem.siteCode);\r\n    }\r\n\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n  }\r\n\r\n  /** 提交报名申请 */\r\n  applyForm() {\r\n    this.recruitingProvider.SaveApplyJob(this.applyitem).subscribe((data) => {\r\n      if (data.errcode == 0) {\r\n        const res = data.result[0];\r\n        this.nativeService.alert(res.description)\r\n        if (res.status == 'success') {\r\n          this.navCtrl.pop();\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  //**获取招聘信息 */\r\n  getRecuitmentInfo(siteCode) {\r\n    this.recruitingProvider.GetPostAndInterviewDate(siteCode).subscribe((data) => {\r\n      if (data.errcode == 0) {\r\n        this.interviewdate = data.result.interviewDateList\r\n        this.workposts = data.result.workPostList\r\n\r\n        this.applyitem.InterviewDate = this.interviewdate ? this.interviewdate[0].name : ''\r\n        this.applyitem.Workpost = this.workposts ? this.workposts[0].name : ''\r\n      }\r\n    });\r\n  }\r\n  changeSite(){\r\n    const index = this.sites.findIndex(p => p.name == this.applyitem.Site);\r\n    this.getRecuitmentInfo(this.sites[index].code);\r\n  }\r\n \r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/recruitment/quick-registration/quick-registration.ts"],"sourceRoot":""}