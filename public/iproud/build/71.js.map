{"version":3,"sources":["../../src/pages/contact/contact-detail/contact-detail.module.ts","../../src/pages/contact/contact-detail/contact-detail.ts"],"names":[],"mappings":"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","file":"71.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { ContactDetailPage } from './contact-detail';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ContactDetailPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ContactDetailPage),\r\n    TranslateModule\r\n  ],\r\n  exports: [\r\n    ContactDetailPage\r\n  ],\r\n  providers: [\r\n  ]\r\n})\r\nexport class ContactDetailModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contact/contact-detail/contact-detail.module.ts","import { MessageProvider } from './../../../providers/message-provider';\r\nimport { Session } from './../../../services/session';\r\nimport { Friends } from './../../../models/contact';\r\nimport { NativeService } from './../../../services/native-service';\r\nimport { SqliteProvider } from './../../../providers/sqlite-provider';\r\nimport { Events } from 'ionic-angular';\r\nimport { DEFAULT_AVATAR } from './../../../services/constants';\r\nimport { AlertController } from 'ionic-angular';\r\nimport { ContactProvider } from './../../../providers/contact-provider';\r\nimport { PreloadProvider } from './../../../providers/preload-provider';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular'; \r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Utility } from '../../../services/utility';\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-contact-detail',\r\n  templateUrl: 'contact-detail.html'\r\n})\r\nexport class ContactDetailPage {\r\n  contact: any;\r\n  isFriend: boolean = false;\r\n  fromPage: string = ''\r\n  moments: any[];\r\n  isSelf: boolean = false;\r\n  isDataLoading: boolean = false;\r\n\r\n  constructor(public navCtrl: NavController,\r\n    private navParams: NavParams,\r\n    public preloadProvider: PreloadProvider,\r\n    public contactProvider: ContactProvider,\r\n     public alertCtrl: AlertController,\r\n     public translateService:TranslateService,\r\n     public events: Events,\r\n     public sqlite: SqliteProvider,\r\n     public nativeService: NativeService,\r\n     private session: Session,\r\n     private messageProvider: MessageProvider) {\r\n\r\n      this.fromPage = this.navParams.data.fromPage; \r\n      this.FriendInfo(this.navParams.data.friendId) \r\n      \r\n    \r\n    this.contact ={\r\n      avator: DEFAULT_AVATAR\r\n    }\r\n    this.moments = [{\r\n      publishTime: '2019-01-01',\r\n      description: '今天天气真好！',\r\n      imgs: [\"assets/img/puppy-1.jpg\", \"assets/img/puppy-2.jpg\", \"assets/img/puppy-3.jpg\"]\r\n    },\r\n    {\r\n      publishTime: '2019-01-01',\r\n      description: '棒极了！'\r\n    } \r\n    ,\r\n    {\r\n      publishTime: '2019-01-02',\r\n      description: '棒极了！'\r\n    } \r\n\r\n    ,\r\n    {\r\n      publishTime: '2018-12-08',\r\n      description: '棒极了！'\r\n    } \r\n    ,\r\n    {\r\n      publishTime: '2018-12-01',\r\n      description: '棒极了！'\r\n    } \r\n    ,\r\n    {\r\n      publishTime: '2018-11-08',\r\n      description: '棒极了！',\r\n      imgs:['assets/img/tutorial/Slide1.jpg','assets/img/tutorial/Slide2.jpg','assets/img/tutorial/Slide3.jpg','assets/img/tutorial/Slide4.jpg','assets/img/tutorial/Slide5.jpg','assets/img/tutorial/Slide6.jpg']\r\n    } \r\n    ]\r\n  }\r\n\r\n  ionViewDidLoad(){\r\n    this.events.subscribe('contact: refresh-friendinfo',()=>{\r\n      this.getFriendInfoFromApi(this.contactProvider.friendInfo); \r\n    }) \r\n  }\r\n\r\n  ionViewWillUnload() {\r\n    //console.log('界面销毁');\r\n    this.events.unsubscribe('contact: refresh-friendinfo');\r\n  }\r\n\r\n  /**\r\n   * 刷新好友信息\r\n   * @param _event \r\n   */\r\n  doRefresh(_event){\r\n    this.contactProvider.FriendInfo(this.navParams.data.friendId).subscribe(res=>{\r\n      _event && _event.complete()\r\n    })\r\n  }\r\n\r\n\r\n  /**\r\n   * 打开好友选项\r\n   */\r\n  openContactOptions() {\r\n    this.navCtrl.push('ContactOptionPage', this.contact)\r\n  }\r\n\r\n  /**\r\n   * 打开聊天窗口\r\n   */\r\n  openMessageChat() {\r\n    let widget = {\r\n      widgetIcon: this.contact.avator,\r\n      widgetName: this.contact.nickName || this.contact.name,\r\n      widgetId: this.contact.id, \r\n    } \r\n    this.messageProvider.setMessageIsReadByWidgetId(widget.widgetId); //设置该分组为已读\r\n    this.messageProvider.setMessage([]);\r\n    this.messageProvider.queryMessage(widget.widgetId.toString(), 10, 0).subscribe(res => {\r\n      widget['messages'] = res\r\n      this.navCtrl.push('MessageChatPage',widget)\r\n    })   \r\n    \r\n  }\r\n\r\n  /**\r\n   * 预览头像\r\n   * @param item \r\n   */\r\n  scaleAvatar(item){\r\n    this.preloadProvider.previewImage([{pictureUrl:item.avator}],0);\r\n  }\r\n \r\n \r\n  /** 获取好友信息，默认从本地获取，若没有数据则从API加载。 */\r\n  FriendInfo(friendId: number){ \r\n    this.isDataLoading = true;\r\n    this.sqlite.queryFriendInfo(friendId).subscribe(res=>{ \r\n      if(res && res.length > 0){\r\n        this.isDataLoading = false;\r\n        this.contact = JSON.parse(res[0].Extra) \r\n        if(this.fromPage == 'friendsList'){\r\n          this.contact.isBlack = false;\r\n          this.contact.isFriend = true;\r\n          this.isSelf = this.session.userId == this.contact.id;\r\n          this.contact.blurMobilePhone = Utility.blurMobilePhone(this.contact.mobilePhone)\r\n        }\r\n      }else{\r\n        this.contactProvider.FriendInfo(friendId).subscribe()\r\n      } \r\n    },err=>{  \r\n      this.contactProvider.FriendInfo(friendId).subscribe()\r\n    })\r\n    \r\n  }\r\n\r\n  /**\r\n   * 获取到API的结果并保存\r\n   * @param result \r\n   */\r\n  getFriendInfoFromApi(result){ \r\n    this.isDataLoading = false;\r\n      this.contact = result; \r\n      this.isSelf = this.session.userId == this.contact.id;\r\n      this.contact.avator = this.contact.avator || DEFAULT_AVATAR; \r\n      this.sqlite.saveFriendInfo(this.contact).subscribe();  \r\n      let friends: Friends = {\r\n        GroupId: this.contact.friendTagId,   // GroupId\r\n        FriendId: this.contact.id,   // FriendId\r\n        IsStar: this.contact.isStar ? 1 : 0,\r\n        Extra:this.contact  \r\n      }\r\n      this.sqlite.saveContact(friends).subscribe(res=>{ \r\n        this.events.publish('contact: refresh-friendsFromSqlite')\r\n      })\r\n      this.contact.blurMobilePhone = Utility.blurMobilePhone(this.contact.mobilePhone)\r\n  }\r\n\r\n  /**\r\n   * 打开备注设定\r\n   */\r\n  openSetRemarkPage(){\r\n    this.navCtrl.push('ContactSetremarkPage',this.contact)\r\n  }\r\n\r\n  /**\r\n   * 发送好友验证\r\n   */\r\n  sendValidation(){ \r\n    let alert = this.alertCtrl.create({\r\n      title:this.translateService.instant('CONTACT_DETAIL_VERIFY_INFO'),\r\n      inputs: [ \r\n        {\r\n          name: 'description',\r\n          placeholder: this.translateService.instant('CONTACT_DETAIL_VERIFY_DESCRIPTION'),\r\n          type: 'textarea'\r\n        }\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: this.translateService.instant('CONTACT_DETAIL_VERIFY_CANCEL'),\r\n          role: 'cancel',\r\n          handler: data => { \r\n          }\r\n        },\r\n        {\r\n          text: this.translateService.instant('CONTACT_DETAIL_VERIFY_SEND'),\r\n          handler: data => { \r\n            let before : { findResult: boolean,item: any } = this.getContactFromFriendsRequest(this.contact.name);\r\n            if(before.findResult){\r\n              this.contactProvider.AcceptAddRequest(before.item.id, true).subscribe(res=>{\r\n                this.nativeService.showToast(this.translateService.instant('CONTACT_ADD_SEND_REQUEST_OK')) \r\n              })\r\n            }else{\r\n              this.contactProvider.SendAddRequest(this.contact.id,data.description).subscribe(\r\n                res=>{\r\n                  this.nativeService.showToast(this.translateService.instant('CONTACT_ADD_SEND_REQUEST_OK')) \r\n                }\r\n              )\r\n            } \r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present(); \r\n  }\r\n\r\n  /**\r\n   * 从好友请求列表中查找\r\n   * @param name \r\n   */\r\n  getContactFromFriendsRequest(name: string): { findResult: boolean,item: any }{\r\n    let result = {findResult: false,item: {}}\r\n    if(name) {\r\n      for(let item of this.contactProvider.newFriends){\r\n        if(item.name == name && item.status == \"waiting\"){\r\n          result.findResult = true;\r\n          result.item = item;\r\n          return result;\r\n        }\r\n      }\r\n    } \r\n    return result\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contact/contact-detail/contact-detail.ts"],"sourceRoot":""}