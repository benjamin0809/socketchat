{"version":3,"sources":["../../src/pages/beta/video/video.module.ts","../../src/pages/beta/video/video.ts"],"names":[],"mappings":"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","file":"102.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { VideoPage } from './video';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    VideoPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(VideoPage),\r\n  ],\r\n})\r\nexport class VideoPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/beta/video/video.module.ts","import { HttpService } from './../../../services/http-service';\r\nimport { NativeService } from './../../../services/native-service';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\n\r\n/**\r\n * Generated class for the VideoPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-video',\r\n  templateUrl: 'video.html',\r\n})\r\nexport class VideoPage {\r\n\r\n  accessToken: string = ''\r\n  httpRes: string = '';\r\n  camera: string = '';\r\n  facedetect: string = '';\r\n  base64: string =''\r\n  constructor(public navCtrl: NavController, \r\n    public navParams: NavParams,\r\n    public nativeService: NativeService,\r\n    public http: HttpService) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad VideoPage');\r\n  }\r\n\r\n  getToken(){\r\n    let getTokenUrl = 'https://aip.baidubce.com/oauth/2.0/token';\r\n\r\n    let body = {\r\n      grant_type: 'client_credentials',\r\n      client_id: 'b31wn9iriKgKjb6OLLqZzYrh',\r\n      client_secret: 'yLVpKUaK5v4h4LaIufOH8XuxGeytDAlo'\r\n    }\r\n\r\n    let url = `${getTokenUrl}?`\r\n\r\n    Object.keys(body).forEach(key=>{\r\n      url += (key + \"=\" + body[key] + '&')\r\n    })\r\n    this.http.post(url,false,body).subscribe(res=>{\r\n      // this.httpRes = JSON.stringify(res)\r\n      if(res.errcode == 0){\r\n        this.accessToken = res.result.access_token\r\n      }\r\n    },err=>{\r\n      this.httpRes = JSON.stringify(err)\r\n    })\r\n  }\r\n\r\n\r\n  gofacedetect(){\r\n    let url = `https://aip.baidubce.com/rest/2.0/face/v3/detect?access_token=${this.accessToken}`;\r\n\r\n    let body = {\r\n      \"image\": \"\",\r\n      \"image_type\": \"BASE64\" ,\r\n      \"liveness_control\":\"NORMAL\"\r\n    }\r\n    body.image = this.base64; \r\n    this.http.post(url,false,body).subscribe(res=>{\r\n      this.facedetect = JSON.stringify(res,null,2)\r\n       \r\n    },err=>{\r\n      this.facedetect = JSON.stringify(err,null,2)\r\n    })\r\n  }\r\n\r\n  gofacedetectByUrl(){\r\n    let url = `https://aip.baidubce.com/rest/2.0/face/v3/detect?access_token=${this.accessToken}`;\r\n\r\n    let body = {\r\n      \"image\": \"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=319355629,491062307&fm=26&gp=0.jpg\",\r\n      \"image_type\": \"URL\" ,\r\n      \"face_field\": \"age,beauty,expression,face_shape,gender,glasses,landmark,race,quality,face_type\",\r\n      \"liveness_control\":\"NORMAL\"\r\n    } \r\n    this.http.post(url,false,body).subscribe(res=>{\r\n      this.facedetect = JSON.stringify(res,null,2)\r\n       \r\n    },err=>{\r\n      this.facedetect = JSON.stringify(err,null,2)\r\n    })\r\n  }\r\n\r\n  livenessCheckBase64(){\r\n    let url = `https://aip.baidubce.com/rest/2.0/face/v3/faceverify?access_token=${this.accessToken}`;\r\n\r\n    let body = {\r\n      \"image\": \"\",\r\n      \"image_type\": \"BASE64\" ,\r\n      \"face_field\": \"age,beauty,expression,face_shape,gender,glasses,landmark,race,quality,face_type\"\r\n    } \r\n    body.image = this.base64;\r\n    this.http.post(url,false,body).subscribe(res=>{\r\n      this.facedetect = JSON.stringify(res,null,2)\r\n       \r\n    },err=>{\r\n      this.facedetect = JSON.stringify(err,null,2)\r\n    })\r\n    \r\n  }\r\n\r\n  livenessCheck(){\r\n    let url = `https://aip.baidubce.com/rest/2.0/face/v3/faceverify?access_token=${this.accessToken}`;\r\n\r\n    let body = {\r\n      \"image\": \"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=319355629,491062307&fm=26&gp=0.jpg\",\r\n      \"image_type\": \"URL\"  \r\n    } \r\n    this.http.post(url,false,body).subscribe(res=>{\r\n      this.facedetect = JSON.stringify(res,null,2)\r\n       \r\n    },err=>{\r\n      this.facedetect = JSON.stringify(err,null,2)\r\n    })\r\n    \r\n  }\r\n  getPic(){\r\n    this.nativeService.getPictureByCamera().subscribe(res=>{\r\n      this.base64 = res \r\n\r\n      alert(this.base64.indexOf('base64'))\r\n    },err=>{ \r\n      alert('哦豁'+ JSON.stringify(err,null,2))\r\n    })\r\n  }\r\n\r\n  getVideo(){\r\n    this.nativeService.getVideoCapture().subscribe(res=>{\r\n      this.camera = JSON.stringify(res,null,2) \r\n    },err=>{\r\n      this.camera = JSON.stringify(err,null,2)\r\n    })\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/beta/video/video.ts"],"sourceRoot":""}