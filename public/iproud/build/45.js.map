{"version":3,"sources":["../../src/pages/contact/contact-chooser/contact-chooser.module.ts","../../src/pages/page.base.ts","../../src/pages/contact/contact-chooser/contact-chooser.ts"],"names":[],"mappings":"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","file":"45.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ContactChooserPage } from './contact-chooser';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ContactChooserPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ContactChooserPage),\r\n    TranslateModule.forChild(),\r\n  ],\r\n})\r\nexport class ContactChooserPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contact/contact-chooser/contact-chooser.module.ts"," \r\nimport { Events, NavController } from 'ionic-angular'; \r\n \r\n/**\r\n * page 公共类\r\n */\r\nexport class pageCommon   {\r\n \r\n  constructor(public navCtrl: NavController, \r\n    public events?: Events, ) {\r\n \r\n  }\r\n \r\n  /**\r\n   * 水平scroll寬度\r\n   * @param width scroll 寬度\r\n   * @param height scroll 高度\r\n   */\r\n  scrollWidth(width?:number,height?:number) {\r\n    return {\r\n      \"width\": width || (window.screen.availWidth - 5)   + 'px',\r\n      \"height\": (height || 44) + 'px',\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 發佈下拉完成事件\r\n   * @param _event 下拉事件\r\n   */\r\n  completeRefresh(_event){\r\n    _event && _event.complete();\r\n  }\r\n\r\n  /**\r\n   * 發佈上拉完成事件\r\n   * @param _event 上拉事件\r\n   */\r\n  completedoInfinite(_event){\r\n    _event && _event.complete();\r\n  }\r\n \r\n    \r\n}\r\n\r\nexport interface IProudList{\r\n  doRefresh(_event: any):void; \r\n  doInfinite(_event: any):void;\r\n}\r\n \n\n\n// WEBPACK FOOTER //\n// ./src/pages/page.base.ts","import { Session } from './../../../services/session';\r\nimport { ContactProvider } from './../../../providers/contact-provider';\r\nimport { Component, ViewChild, ɵConsole } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController,Events } from 'ionic-angular';\r\nimport { pageCommon } from '../../page.base';\r\nimport { SqliteProvider } from './../../../providers/sqlite-provider';\r\n\r\n/**\r\n * Generated class for the ContactChooserPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-contact-chooser',\r\n  templateUrl: 'contact-chooser.html',\r\n})\r\nexport class ContactChooserPage extends pageCommon{\r\n\r\n  @ViewChild('scroll') scroll;  \r\n\r\n  Selected: any[];\r\n  contacts: any[];\r\n  isMulti: boolean = false;\r\n  title :string = ''\r\n  friendTags:any;\r\n    constructor(public navCtrl: NavController,\r\n     public navParams: NavParams,\r\n     public contactProvider: ContactProvider,\r\n     public events:Events,\r\n     public session: Session,\r\n     public sqliteProvider: SqliteProvider,\r\n     public view: ViewController) {\r\n    super(navCtrl)\r\n\r\n    this.title = this.navParams.data.title || 'friends'\r\n    this.Selected = [];\r\n    this.getMyFriends();\r\n        /** \r\n    this.contacts = [] \r\n    if(this.contactProvider.friends){\r\n      this.contacts =  this.contactProvider.friends;\r\n      for(let item of this.contacts){\r\n        item.isCheck = false;\r\n  \r\n        if(item.isCheck){\r\n          this.Selected.push(item)\r\n        \r\n        }\r\n      }\r\n    }else{\r\n      this.contactProvider.MyFriends().subscribe(res=>{\r\n        this.contacts =  res.result;\r\n        for(let item of this.contacts){\r\n          item.isCheck = false;\r\n    \r\n          if(item.isCheck){\r\n            this.Selected.push(item)\r\n          \r\n          }\r\n        }\r\n      })\r\n    }*/\r\n\r\n  }\r\n\r\n  getMyFriends(){\r\n    /** \r\n    this.contactProvider.MyFriends().subscribe(res=>{ \r\n      this.friendTags = res.result; \r\n      console.log(res.result);\r\n      for(let item of this.friendTags){\r\n        if(item.friendTagId == -1){\r\n          item.iproudshow = false\r\n        }else{\r\n          item.iproudshow = true;\r\n          if(!this.contacts){this.contacts=[];}          \r\n          this.contacts=this.contacts.concat(item.friends);\r\n        }      \r\n      }\r\n    });\r\n    */\r\n   this.sqliteProvider.queryContacts().subscribe((friends) => {\r\n     for(let friend of friends){\r\n       if(!this.contacts){this.contacts=[];}\r\n       if(JSON.parse(friend.Extra).isBlack==false){\r\n        this.contacts.push(JSON.parse(friend.Extra))\r\n       }       \r\n     }     \r\n   });\r\n  }\r\n\r\n   scrollWidth(){\r\n    return super.scrollWidth()\r\n   }\r\n\r\n   selectedFriend(contact){\r\n     //console.log(contact)\r\n    let data = []\r\n    data.push(contact)\r\n     this.close(data)\r\n   }\r\n\r\n   SelectedOnContact(contact){\r\n     if(!contact.isCheck){\r\n      let index = this.Selected.findIndex(p=>p.id == contact.id);\r\n      if(index > -1){\r\n        this.Selected.splice(index,1)\r\n      }\r\n     }else{\r\n       this.Selected.push(contact) \r\n       this.scroll._scrollContent.nativeElement.scrollLeft = this.scroll._scrollContent.nativeElement.scrollWidth\r\n     }\r\n       \r\n   }\r\n\r\n   cancelSetectedFriend(contact){\r\n     contact.isCheck = false;\r\n    let index = this.Selected.findIndex(p=>p.id == contact.id);\r\n    if(index > -1){\r\n      this.Selected.splice(index,1)\r\n    }\r\n   }\r\n\r\n   exchangeMulti(){\r\n     this.isMulti = !this.isMulti;\r\n   }\r\n\r\n   completedSetected(){ \r\n     this.close(this.Selected)\r\n   }\r\n\r\n   close(data?:any){\r\n    this.view.dismiss(data)\r\n    this.events.publish(\"privacy:selected\",data);\r\n   }\r\n\r\n   \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contact/contact-chooser/contact-chooser.ts"],"sourceRoot":""}