{"version":3,"sources":["../../src/pages/common/browser/browser.module.ts","../../src/pages/common/browser/browser.ts"],"names":[],"mappings":"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","file":"100.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\nimport { BrowserPage } from './browser';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BrowserPage\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(BrowserPage),\r\n    TranslateModule.forChild()\r\n  ],\r\n  exports: [\r\n    BrowserPage\r\n  ]\r\n})\r\nexport class BrowserPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/common/browser/browser.module.ts","import { AuthProvider } from './../../../providers/auth-provider';\r\nimport { ViewController } from 'ionic-angular';\r\nimport { PreloadProvider, ShareModal } from './../../../providers/preload-provider';\r\nimport { BrowserModel, IframeOption, BrowserPopoverOption } from './../../../models/browser';\r\nimport { Keyboard } from '@ionic-native/keyboard';\r\nimport { APP_STYLE } from './../../../services/constants';\r\nimport { HandleProvider } from './../../../providers/handle/handle';\r\nimport { ShareProvider, ShareMessage, ShareBody } from './../../../providers/share-provider';\r\nimport { WidgetProvider } from './../../../providers/widget-provider';\r\nimport { Events, Content } from 'ionic-angular';\r\nimport { Component, ViewChild, ElementRef, ChangeDetectorRef, HostListener } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { IonicPage, NavController, NavParams, Platform, PopoverController, ToastController, App } from 'ionic-angular';\r\nimport { DomSanitizer } from \"@angular/platform-browser\";\r\nimport { Clipboard } from \"@ionic-native/clipboard\";\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { HttpService, Utility, Session, NativeService } from '../../../services/services';\r\nimport { IS_DEBUG, FUNDEBUG_API_KEY } from \"../../../services/constants\";\r\nimport * as fundebug from \"fundebug-javascript\";\r\n\r\nfundebug.apikey = FUNDEBUG_API_KEY;\r\nfundebug.releasestage = IS_DEBUG ? 'development' : 'production'; \r\n \r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-browser',\r\n  templateUrl: 'browser.html'\r\n})\r\nexport class BrowserPage implements BrowserModel {\r\n  @ViewChild(\"iframe\") _iframe;\r\n  @ViewChild(Content) content: Content;\r\n  @ViewChild('header') header;\r\n  @ViewChild('title') title;\r\n  \r\n  browser: any = {\r\n    isLoaded: false, // 网页是否被加载\r\n    proObj: null, // 进度条对象\r\n    progress: 0, // 网页访问的进度条\r\n    secUrl: '', // 安全链接\r\n    title: '加载中',\r\n    originUrl: '', // 原始链接\r\n    completeUrl: '', // 完整链接（添加了From, AuthCode, Lang）\r\n    share: null,// 是否具有分享功能（传递一个分享对象ShareModel过来）\r\n    description: '',\r\n    options: {}\r\n  };\r\n  options: IframeOption = {\r\n    title: 'dafult',\r\n    showHeader: true,\r\n    color: '',\r\n    contentScroll: true,\r\n    contentFullscreen: true,\r\n    headerTransparent: false,\r\n    isShowPopover: true \r\n  }\r\n  keyBoardHeight: number = 0;\r\n  isCalcIframe: boolean = false;\r\n  callback: any;\r\n  isShowiFrame: boolean = true;\r\n  shareConfig: any = {\r\n    isShow: false\r\n  }; // 分享控制的配置 \r\n\r\n  browserPopoverOption: BrowserPopoverOption = {\r\n    isShowPopover: false,\r\n    allowCopyLink: false,\r\n    allowOpenInBrowser: false,\r\n    isShare: false,\r\n    isComplaint: false\r\n  }\r\n  history_length: number = 0;\r\n  loadcount: number = 0;//加载次数\r\n\r\n  isReloadEventOnWebPage: boolean = false; // 刷新事件是否交由网页处理\r\n  constructor(public navCtrl: NavController,\r\n    private params: NavParams,\r\n    private sanitizer: DomSanitizer,\r\n    private popoverCtrl: PopoverController,\r\n    private platform: Platform,\r\n    private clipboard: Clipboard,\r\n    public httpService: HttpService,\r\n    public session: Session,\r\n    private toastCtrl: ToastController,\r\n    private translate: TranslateService,\r\n    private events: Events,\r\n    public nativeService: NativeService,\r\n    public location: Location,\r\n    public widgetProvider: WidgetProvider,\r\n    public element: ElementRef,\r\n    public shareProvider: ShareProvider,\r\n    public handleProvider: HandleProvider,\r\n    public keyboard: Keyboard,\r\n    public cd: ChangeDetectorRef,\r\n    public preload: PreloadProvider,\r\n    public viewCtrl: ViewController,\r\n    public authProvider: AuthProvider\r\n  ) {  \r\n    (<any>window).iproud = this\r\n    this.history_length = window.history.length;\r\n    this.callback = this.params.get('callback');\r\n    let browserParameter = this.params.get('browser');\r\n    if (browserParameter) {\r\n      this.browser.title = browserParameter.title;\r\n      this.browser.originUrl = browserParameter.originUrl;\r\n      this.browser.completeUrl = browserParameter.completeUrl;\r\n      this.browser.appId = browserParameter.appId;\r\n      this.browser.options = browserParameter.options;\r\n      this.options.title = this.browser.title;\r\n      if (!this.browser.originUrl) { //url为空就显示description\r\n        this.browser.description = browserParameter.description;\r\n      } \r\n      if (browserParameter.share) {\r\n        this.browser.share = browserParameter.share;\r\n      }\r\n    }   \r\n    this.events.subscribe('user:logined', () => {\r\n      this.reload(true);\r\n    })\r\n\r\n  }\r\n\r\n  ionViewDidEnter(){ \r\n    if(this.nativeService.isIos()){\r\n      let str = `height: ${this.content.contentHeight + this.content.contentTop}px;`\r\n      this.setIframeOuterCss(str)\r\n      this.setIframeIosCss(str)\r\n    } \r\n\r\n    if(!this.nativeService.isMobile()){\r\n      setTimeout(()=>{\r\n        this.postMessage('keyHeight',{ keyHeight: 400 },'*')\r\n      },1000) \r\n    }\r\n    this.postMessage('HeaderHeight',{ headerHeight:  this.header && this.header.nativeElement.clientHeight },'*')\r\n  }\r\n\r\n  ionViewDidLeave() {\r\n    this.callback && this.callback() \r\n    /** 移除message监视器 否则下次进入此页面时会重复定义message */\r\n    window.removeEventListener('message',  this.handEvent , false)\r\n    this.setStatusBarTextDark(!this.session.isDarkMode)\r\n  }\r\n  ionViewDidLoad() {\r\n    this.keyboard.onKeyboardWillShow().subscribe((e: any) => {\r\n      this.keyBoardHeight = e.keyboardHeight;\r\n      this.postMessage('keyHeight', { keyHeight: e.keyboardHeight },'*')\r\n    }); \r\n \r\n    this.keyboard.onKeyboardWillHide().subscribe((e: any) => {\r\n      this.keyBoardHeight = 0;\r\n    }); \r\n    if (!this.browser.proObj) {\r\n      this.browser.proObj = document.getElementById('progress');\r\n    }\r\n    this.reload(false); \r\n    window.addEventListener('message', this.handEvent , false)\r\n \r\n  }\r\n \r\n  /**\r\n   * 定义message listener处理函数，指向唯一函数\r\n   * @param messageEvent \r\n   */\r\n  handEvent(messageEvent: MessageEvent){  \r\n    return (<any>window).iproud.receviceMessage(messageEvent);\r\n  }\r\n  //离开页面时\r\n  focusOnOther() {\r\n    if (this.isIos()) {\r\n      this._iframe.nativeElement.focus();\r\n    }\r\n  }\r\n  // 生成随机数\r\n  private random(min: number, max: number): number {\r\n    return Math.floor(Math.random() * (max - min + 1) + min);\r\n  }\r\n\r\n  // 网页访问进度\r\n  private onprogress() {\r\n    // 随机时间\r\n    let timeout = this.random(10, 30);\r\n\r\n    let timer = setTimeout(() => {\r\n      if (this.browser.isLoaded) {\r\n        this.browser.proObj.style.width = '100%';\r\n\r\n        //记载完毕后进度归零，为下一次作准备\r\n        this.browser.progress = 0,\r\n          setTimeout(() => {\r\n            this.browser.proObj.style.width = '0%';\r\n          }, 50)\r\n        clearTimeout(timer);\r\n        return;\r\n      }\r\n\r\n      // 随机进度\r\n      this.browser.progress += this.random(1, 5);\r\n      // 随机进度不能超过 90%，以免页面还没加载完毕，进度已经 100% 了\r\n      if (this.browser.progress > 90) {\r\n        this.browser.progress = 90;\r\n        if (!this.browser.originUrl) {\r\n          this.loaded();\r\n        }\r\n\r\n      }\r\n\r\n      this.browser.proObj.style.width = this.browser.progress + '%';\r\n      this.onprogress();\r\n\r\n    }, timeout);\r\n  }\r\n\r\n  /***\r\n   * 进度条开始\r\n   */\r\n  iProgressStart() {\r\n    this.browser.isLoaded = false;\r\n    const repeat = () => {\r\n      // 随机时间\r\n      let timeout = this.random(10, 30);\r\n      let timer = setTimeout(() => {\r\n        if (this.browser.isLoaded) {\r\n          this.browser.proObj.style.width = '100%';\r\n\r\n          //记载完毕后进度归零，为下一次作准备\r\n          this.browser.progress = 0,\r\n            setTimeout(() => {\r\n              this.browser.proObj.style.width = '0%';\r\n            }, 50)\r\n          clearTimeout(timer);\r\n          return;\r\n        }\r\n        // 随机进度\r\n        this.browser.progress += this.random(1, 5);\r\n        // 随机进度不能超过 90%，以免页面还没加载完毕，进度已经 100% 了\r\n        if (this.browser.progress > 90) {\r\n          this.browser.progress = 90;\r\n        }\r\n        this.browser.proObj.style.width = this.browser.progress + '%';\r\n        repeat();\r\n      }, timeout);\r\n    }\r\n    repeat()\r\n  }\r\n\r\n  /**\r\n   * 进度条完成\r\n   */\r\n  iProgressDone() {\r\n    this.browser.isLoaded = true;\r\n  }\r\n\r\n  // 如果iframe页面加载成功后\r\n  loaded() {\r\n    if (++this.loadcount > 1) {\r\n      this.browser.isLoaded = true;\r\n      if (this.isIos()) {\r\n        let iframe_ios = this._iframe.nativeElement;\r\n        iframe_ios.style.minHeight = window.screen.availHeight - 60 + 'px'\r\n      }\r\n    }  \r\n  }\r\n\r\n  // 显示Popver选项\r\n  presentPopover(myEvent) {\r\n    let cb = {\r\n      refresh: () => {\r\n        this.reload(true);\r\n      },\r\n      close: () => {\r\n        this.closeTheWindow();\r\n      },\r\n      copyurl: () => {\r\n        this.copyurl();\r\n      },\r\n      openInBrowser: () => {\r\n        this.openInBrowser();\r\n      },\r\n      openComplaint: () => {\r\n        this.openComplaint();\r\n      },\r\n      shareWxTimeLine: null,\r\n      shareWxSession: null,\r\n    };\r\n\r\n    if (this.browser.share != null) {\r\n      cb.shareWxTimeLine = () => {\r\n        this.shareWxTimeLine();\r\n      };\r\n      cb.shareWxSession = () => {\r\n        this.shareWxSession();\r\n      }\r\n    }\r\n\r\n    let popover = this.popoverCtrl.create('BrowserPopoverPage', {\r\n      callback: cb,\r\n      isShare: this.browser.share != null,\r\n      options: this.browser.options\r\n    }, {\r\n        cssClass: 'browser-popover'\r\n      });\r\n    popover.present({\r\n      ev: myEvent\r\n    });\r\n  }\r\n\r\n  // 重新加载页面\r\n  reload(isNeedAuth?: Boolean) {\r\n    if(this.isReloadEventOnWebPage){\r\n      this.postMessage('ReloadEvent', null ,'*') \r\n      return ;\r\n    }\r\n    if (this.browser.completeUrl && !isNeedAuth) {\r\n      setTimeout(() => {\r\n        this.browser.progress = 0;\r\n        if (!this.browser.proObj) {\r\n          this.browser.proObj = document.getElementById('progress');\r\n        }\r\n        this.onprogress();\r\n        // update complete Url using new AuthCode\r\n        this.browser.secUrl = this.sanitizer.bypassSecurityTrustResourceUrl(this.browser.completeUrl);\r\n      }, 10);\r\n    } else if (this.browser.originUrl) { \r\n      this.authProvider.getAuthCode(this.browser.appId,this.browser.originUrl).subscribe((data: any) => {\r\n        if (data.errcode == 0) {\r\n          var code = data.result.code; \r\n          let completeUrl = Utility.completeUrlForBrowser(this.browser.originUrl, code, this.session, this.browser.appId);\r\n          let title = this.browser.title;\r\n\r\n          setTimeout(() => {\r\n            this.browser.progress = 0;\r\n            if (!this.browser.proObj) {\r\n              this.browser.proObj = document.getElementById('progress');\r\n            }\r\n            this.onprogress();\r\n            this.browser.title = title;\r\n            // update complete Url using new AuthCode\r\n            this.browser.secUrl = this.sanitizer.bypassSecurityTrustResourceUrl(completeUrl);\r\n          }, 10);\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n  // 分享微信朋友圈\r\n  shareWxTimeLine(fromIframeMessage?: ShareMessage) {\r\n    let message: ShareMessage = {\r\n      title: this.browser.share.title || this.browser.title,\r\n      resource: this.browser.share.url,\r\n      description: this.browser.share.description || \"\",\r\n      thumb: this.browser.share.thumb || \"www/assets/imgs/logo.png\",\r\n    }\r\n\r\n\r\n    if (fromIframeMessage) { \r\n      this.shareProvider.shareWebPageWxTimeLine(fromIframeMessage).subscribe(() => { })\r\n    } else { \r\n      this.shareProvider.shareWebPageWxTimeLine(message).subscribe(() => { })\r\n    }\r\n\r\n  }\r\n\r\n \r\n\r\n  // 分享到微信好友\r\n  shareWxSession(fromIframeMessage?: ShareMessage) {\r\n    let message: ShareMessage = {\r\n      title: this.browser.share.title || this.browser.title,\r\n      resource: this.browser.share.url,\r\n      description: this.browser.share.description || \"\",\r\n      thumb: this.browser.share.thumb || \"www/assets/imgs/logo.png\",\r\n    }\r\n \r\n    if (fromIframeMessage) { \r\n      this.shareProvider.shareWebPageWxSession(fromIframeMessage).subscribe(() => { })\r\n    } else { \r\n      this.shareProvider.shareWebPageWxSession(message).subscribe(() => { })\r\n    }\r\n  }\r\n\r\n  // 複製鏈接（作为popover的回调）\r\n  copyurl() {\r\n    let url = this.browser.originUrl || this.browser.share.url;\r\n    this.clipboard.copy(url).then((value) => {\r\n      let toast = this.toastCtrl.create({\r\n        message: this.translate.instant('BROWSER_COPIED'),\r\n        duration: 3000,\r\n        position: 'center'\r\n      });\r\n      toast.present();\r\n    }).catch((error) => {\r\n\r\n    });\r\n  }\r\n  openInBrowser() {\r\n    this.widgetProvider.openInBrowser(this.browser.appId, this.getCurrentBrowserUrl());\r\n  }\r\n\r\n  getCurrentBrowserUrl() {\r\n    let iframe = this.element.nativeElement.querySelector('iframe');\r\n    let currenturl = Utility.removeSessionInfo(this.browser.completeUrl);\r\n    try {\r\n      if (iframe) {\r\n        currenturl = iframe.contentWindow.location.href || this.browser.completeUrl\r\n      }\r\n    } catch (e) {\r\n      this.handleProvider.generate('getIframeurl failed', -1, e)\r\n    }\r\n    return currenturl;\r\n  }\r\n  goBack() {\r\n    \r\n    this.focusOnOther();\r\n    this.nativeService.closeKeyboard();\r\n    setTimeout(() => {\r\n      this.location.back()\r\n      setTimeout(() => {\r\n        this.events.publish('back_registration');\r\n      }, 10)\r\n    }, 10)\r\n  }\r\n\r\n  closeTheWindow() { \r\n    if (this.nativeService.isIos()) {\r\n      this.focusOnOther();\r\n      this.nativeService.closeKeyboard();\r\n      setTimeout(() => {\r\n        this.navCtrl.pop();\r\n      }, 10)\r\n\r\n    } else { \r\n      this.isShowiFrame = false;  \r\n      // this.navCtrl.pop();\r\n      // console.log(this.location.path())\r\n      if (this.location.path().split('/').pop() == 'browser') { \r\n        this.location.back() \r\n        setTimeout(() => {\r\n          this.closeTheWindow();\r\n        }, 0)\r\n      } else {\r\n        this.navCtrl.pop();\r\n        this.navCtrl.id\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  isIos() {\r\n    if (this.nativeService.isIos()) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n/**\r\n   * 设置标题\r\n   * @param text \r\n   */\r\n  setTitle(text: string, style: string) {\r\n    if(style && this.title){ \r\n      this.title.nativeElement.style = style\r\n    }\r\n    this.options.title = text\r\n  }\r\n\r\n  /**\r\n   * 设置头部颜色\r\n   * @param bgcolor \r\n   */\r\n\r\n  setHeaderColor(bgcolor: string, nolines: boolean = false) {\r\n    if (!bgcolor) {\r\n      bgcolor = this.session.isDarkMode ? APP_STYLE.DARK.BG_COLOR : APP_STYLE.DEFAULT.BG_COLOR\r\n    }\r\n    if (this.header) {\r\n      let header = this.header.nativeElement.querySelector('.toolbar-background')\r\n      this.header.nativeElement.style.background = bgcolor\r\n      header.style.background = bgcolor\r\n      if (nolines) {\r\n        header.style.borderWidth = '0'\r\n      } else {\r\n        header.style.borderWidth = '1px'\r\n      }\r\n      this.setTitleColor(bgcolor)\r\n    }\r\n  }\r\n\r\n  setTitleColor(bgcolor: string) {\r\n    let DarkMode = this.session.isDarkMode\r\n    if (bgcolor) {\r\n      DarkMode = Utility.decideTxtColor(bgcolor);\r\n    }\r\n    if (this.header) {\r\n      let title = this.header.nativeElement.querySelector('.toolbar-title')\r\n      title.style.color = DarkMode ? APP_STYLE.DARK.TEXT_COLOR : APP_STYLE.DEFAULT.TEXT_COLOR\r\n    }\r\n  }\r\n\r\n  setContentScroll(value: boolean = true) {\r\n    this.options.contentScroll = value;\r\n  }\r\n\r\n  /**\r\n   * 设置内容是否为全部\r\n   * @param fullscreen \r\n   */\r\n  setContentFullscreen(value: boolean = false) {\r\n    this.options.contentFullscreen = value;\r\n    let content = this.element.nativeElement.querySelector('#content');\r\n    if (this.options.contentFullscreen) {\r\n      content.setAttribute(\"fullscreen\", \"true\");\r\n    } else {\r\n      content.removeAttribute(\"fullscreen\");\r\n    }\r\n    this.content.resize()\r\n\r\n    setTimeout(()=>{\r\n      if(this.nativeService.isIos()){\r\n        let str = `height: ${this.options.contentFullscreen ? this.content.contentHeight + this.content.contentTop : this.content.contentHeight}px;`\r\n      this.setIframeOuterCss(str)\r\n      this.setIframeIosCss(str)\r\n      } \r\n      \r\n    },100)\r\n  }\r\n  /**\r\n   * 设置头部透明\r\n   * @param transparent \r\n   */\r\n  setHeaderTransparent(value: boolean = false) {\r\n    this.options.headerTransparent = value;\r\n    let navbar = this.element.nativeElement.querySelector('#navbar');\r\n    if (navbar) {\r\n      if (this.options.headerTransparent) {\r\n        this.setHeaderColor('rgba(0,0,0,0)', true)\r\n      } else {\r\n        this.setHeaderColor('rgba(255, 255, 255, 1)', false)\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  postMessage(method: string, data: any, targetUrl: string) {\r\n    let that = this._iframe.nativeElement\r\n    if (!method) return;\r\n    let postdata = {\r\n      method: method,\r\n      params: data\r\n    } \r\n    that && that.contentWindow && that.contentWindow.postMessage(postdata, targetUrl)\r\n  }\r\n\r\n  /**\r\n   * 设置头部是否显示\r\n   * @param fullscreen \r\n   */\r\n  setHeaderVisibility(value: boolean = true) {\r\n    this.options.showHeader = !value;\r\n    setTimeout(() => {\r\n      this.content.resize()\r\n    }, 100)\r\n  }\r\n\r\n  /**关闭当前页面 */\r\n  close() {\r\n    this.navCtrl.pop();\r\n  }\r\n\r\n  /**\r\n   * 设置选项按钮是否显示\r\n   * @param show \r\n   */\r\n  toggleBrowserPopover(show: boolean) {\r\n    this.options.isShowPopover = show\r\n  }\r\n\r\n  refreshLocation(url: string ){\r\n    this.browser.share && (this.browser.share.url = url)\r\n    this.browser.completeUrl = url\r\n    this.browser.originUrl = Utility.removeSessionInfo(url)\r\n    this.postMessage('HeaderHeight',{ headerHeight:  this.header && this.header.nativeElement.clientHeight },'*')\r\n  }\r\n\r\n  setIframeOuterCss(style: string){\r\n    let outer = this.element.nativeElement.querySelector('.iframe-outer') \r\n    if(outer){\r\n      outer.style = style\r\n    }\r\n  }\r\n\r\n  setIframeIosCss(style: string){\r\n    this._iframe.nativeElement.style = style;\r\n  }\r\n\r\n  previewPicture(imageArray: Array<{pictureUrl: string}>,index: number = 0,callback?: any){  \r\n    this.preload.previewImage(imageArray, index)\r\n  }\r\n\r\n  openComplaint(){\r\n    this.postMessage('openComplaint', null ,'*') \r\n  }\r\n  shareToWechat(shareModel: ShareModal  ){  \r\n    shareModel.callback = () => {\r\n      this.postMessage('shareToWechat', {\r\n        success: true\r\n      }, \"*\")\r\n    }\r\n    this.preload.openShareModal(shareModel)\r\n  }\r\n\r\n  setStatusBarTextDark(isDark: boolean){\r\n    this.nativeService.setStatusBarTextDark(isDark)\r\n  }\r\n\r\n  enabledWebpageReload(enabled: boolean){\r\n    this.isReloadEventOnWebPage = enabled\r\n  }\r\n\r\n  showLoading(show: boolean = false){\r\n    let func = show ? this.nativeService.showLoading : this.nativeService.hideLoading\r\n    func.call(this.nativeService)\r\n  }\r\n  showToast(desc: string){\r\n    if(desc){\r\n      this.nativeService.showToast(desc)\r\n    } \r\n  }\r\n  \r\n  enableComplaint(show: boolean = false){\r\n    this.browser.options.isComplaint = show\r\n  }\r\n  getBrowserHeight(currentUrl:string){\r\n    let fixed = this.element.nativeElement.querySelector('.fixed-content') \r\n    let outer = this.element.nativeElement.querySelector('.iframe-outer') \r\n\r\n    let obj = { \r\n      contentHeight: fixed.clientHeight,\r\n      iframeHeight: this._iframe.nativeElement.clientHeight\r\n    }\r\n\r\n    if(outer){\r\n      Object.assign(obj, {\r\n        outerHeight: outer.clientHeight\r\n      })\r\n    }\r\n    this.handleProvider.generateInfo('BrowserHeight',obj)\r\n    this.postMessage('BrowserHeight', obj, currentUrl)\r\n  }\r\n  /**\r\n   * 接收postMessage 方法\r\n   * @param messageEvent \r\n   */\r\n  receviceMessage(messageEvent: MessageEvent) {  \r\n    //允许接收postMessage白名单\r\n    let whiteList = [\r\n      /(\\w+):\\/\\/(localhost)(:\\d*)?([^# ]*)/,    //localhost\r\n      /(\\w+):\\/\\/(www.popochiu.com)(:\\d*)?([^# ]*)/, // www.popochiu.com\r\n      /(\\w+):\\/\\/(iproud.fihmb.com)(:\\d*)?([^# ]*)/ // iproud.fihmb.com\r\n    ] \r\n    let { data, origin } = messageEvent\r\n    let allow = false\r\n    whiteList.forEach((reg) => {\r\n      let allowMessage = reg.test(origin)\r\n      if (allowMessage) allow = true;\r\n    })\r\n    if (!allow) {\r\n      //非白名单域名中断\r\n      return\r\n    }\r\n     \r\n    /**\r\n     * 定义一个Map，key 为外部可调方法名\r\n     * value 第一个参数对应实现方法，第二参数为传递到方法的参数\r\n     */\r\n    let funcs = new Map([\r\n      ['close', [this.close, <any>[]]],\r\n      ['iProgressStart', [this.iProgressStart, <any>[]]],\r\n      ['iProgressDone', [this.iProgressDone, <any>[]]],\r\n      ['setTitle', [this.setTitle, <any>[data.params.title, data.params.style]]],\r\n      ['setHeaderColor', [this.setHeaderColor, <any>[data.params.bgcolor]]],\r\n      ['setHeaderVisibility', [this.setHeaderVisibility, <any>[data.params.visibility]]],\r\n      ['shareWxTimeLine', [this.shareWxTimeLine, <any>[data.params]]],\r\n      ['shareWxSession', [this.shareWxSession, <any>[data.params]]],\r\n      ['setContentFullscreen', [this.setContentFullscreen, <any>[data.params.fullscreen]]],\r\n      ['setHeaderTransparent', [this.setHeaderTransparent, <any>[data.params.transparent]]],\r\n      ['setContentScroll', [this.setContentScroll, <any>[data.params.scroll]]],\r\n      ['toggleBrowserPopover', [this.toggleBrowserPopover, <any>[data.params.show]]],\r\n      ['refreshLocation', [this.refreshLocation, <any>[data.params.currentUrl]]], \r\n      ['getBrowserHeight', [this.getBrowserHeight, <any>[data.params.currentUrl]]], \r\n      ['setIframeOuterCss', [this.setIframeOuterCss, <any>[data.params.style]]],  \r\n      ['setIframeIosCss', [this.setIframeIosCss, <any>[data.params.style]]] ,\r\n      ['previewPicture', [this.previewPicture, <any>[data.params.images, data.params.index]]],\r\n      ['shareToWechat', [this.shareToWechat, <any>[data.params.shareModel]]],  \r\n      ['setStatusBarTextDark', [this.setStatusBarTextDark, <any>[data.params.dark]]],\r\n      ['enabledWebpageReload', [this.enabledWebpageReload, <any>[data.params.enabled]]],  \r\n      ['showLoading', [this.showLoading, <any>[data.params.show]]],\r\n      ['showToast', [this.showToast, <any>[data.params.desc]]],\r\n      ['enableComplaint', [this.enableComplaint, <any>[data.params.show]]]\r\n        \r\n    ])\r\n\r\n    let method = data.method;\r\n    this.handleProvider.generateInfo(method, data.params)\r\n    let execute = funcs.get(method) || funcs.get('default');\r\n    let func: Function = execute['0'];\r\n    let args = execute.length > 1 ? execute['1'] : [];\r\n    func.apply(this, args)\r\n    setTimeout(() => {\r\n      this.cd.detectChanges()\r\n    }, 10) \r\n  }\r\n\r\n  @HostListener('touchmove', ['$event'])//监听滑动事件，阻止默认行为（IOS）\r\n  private onTouchMoveEvent(event: Event): void {\r\n    if (this.nativeService.isIos()) { \r\n        event.preventDefault(); \r\n    } \r\n  }\r\n\r\n  @HostListener('scroll', ['$event'])//监听滑动事件，阻止默认行为（IOS）\r\n  private onScrollEvent(event: Event): void {\r\n    if (this.nativeService.isIos()) { \r\n        event.preventDefault(); \r\n    } \r\n  }\r\n\r\n  ionScroll(event){\r\n    if(this.nativeService.isIos()){\r\n      event.preventDefault(); \r\n    }  \r\n  }\r\n\r\n  preventDefault(){\r\n    \r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/common/browser/browser.ts"],"sourceRoot":""}