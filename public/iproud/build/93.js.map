{"version":3,"sources":["../../src/pages/common/share/share.module.ts","../../src/pages/common/share/share.ts"],"names":[],"mappings":"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","file":"93.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { SharePage } from './share';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SharePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(SharePage),\r\n    TranslateModule.forChild()\r\n  ],\r\n  exports:[SharePage]\r\n})\r\nexport class SharePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/common/share/share.module.ts","import { HandleProvider } from './../../../providers/handle/handle';\r\nimport { DEFAULT_LOGO } from './../../../services/constants';\r\nimport { PreloadProvider } from './../../../providers/preload-provider';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\r\nimport { ComponentsModule } from '../../../components/components.module';\r\nimport { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { HttpService, Utility, Session, NativeService } from '../../../services/services';\r\nimport { ShareMessage, ShareProvider, Browser } from '../../../providers/share-provider';\r\nimport { BrowserPage } from '../browser/browser'\r\n\r\n/**\r\n * Generated class for the SharePage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-share',\r\n  templateUrl: 'share.html',\r\n})\r\nexport class SharePage {\r\n\r\n  navTargets = [];\r\n  showTargets = [];\r\n  navigationDockTargetMapIds = [];\r\n  shareMessage: ShareMessage;\r\n  browser: Browser;\r\n  qrcode:string;\r\n  callback: any;\r\n  isShareImage:boolean = false;\r\n  constructor(private navParams: NavParams,\r\n    // private navCtrl: NavController,\r\n    private viewCtrl: ViewController,\r\n    public translate: TranslateService,\r\n    public nativeService: NativeService,\r\n    public shareProvider: ShareProvider,\r\n    public preload: PreloadProvider,\r\n    public handle: HandleProvider\r\n  ) {\r\n    this.init();\r\n    this.navigationDockTargetMapIds = this.navParams.data.navigationDockTargetMapIds || [];\r\n    this.browser = this.navParams.data.browser;\r\n    this.isShareImage = this.navParams.data.isShareImage;\r\n    this.shareMessage = this.navParams.data.shareMessage;\r\n    this.qrcode = this.navParams.data.qrcode;\r\n    this.callback = this.navParams.data.callback;\r\n\r\n    this.handle.generate('enter share page', 0, this.navParams.data)\r\n\r\n    if (this.navigationDockTargetMapIds.length == 0) {\r\n      this.showTargets = this.navTargets;\r\n    } else {\r\n      for (let target of this.navTargets) {\r\n        if (this.navigationDockTargetMapIds.indexOf(target.navigationDockTargetMapId) > -1) {\r\n          this.showTargets.push(target);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n\r\n  init() {\r\n    this.navTargets = [{\r\n      'navigationDockTargetMapId': 1,\r\n      'navigationDockId': 1,\r\n      'navigationTargetId': 1,\r\n      'navigationTargetName': this.translate.instant('BROWSER_POPOVER_WECHAT'),\r\n      'navigationTargetImagePath': 'assets/svg/wechat.svg',\r\n      'navigationTargetLink': 'device-livepoint',\r\n      'navigationTargetParams': 'deviceId',\r\n      'navigationTargetVisible': false,\r\n      'navigationTargetDescription': this.translate.instant('BROWSER_POPOVER_WECHAT'),\r\n    }, {\r\n      'navigationDockTargetMapId': 2,\r\n      'navigationDockId': 1,\r\n      'navigationTargetId': 2,\r\n      'navigationTargetName': this.translate.instant('BROWSER_POPOVER_WECHAT_MOMENT'),\r\n      'navigationTargetImagePath': 'assets/svg/moment.svg',\r\n      'navigationTargetLink': 'device-install-log',\r\n      'navigationTargetParams': 'deviceId',\r\n      'navigationTargetVisible': false,\r\n      'navigationTargetDescription': this.translate.instant('BROWSER_POPOVER_WECHAT_MOMENT'),\r\n    }, {\r\n      'navigationDockTargetMapId': 3,\r\n      'navigationDockId': 1,\r\n      'navigationTargetId': 3,\r\n      'navigationTargetName': this.translate.instant('BROWSER_POPOVER_WEBLOG'),\r\n      'navigationTargetImagePath': 'assets/img/share/sinaweibo.png',\r\n      'navigationTargetLink': 'maintenance-info',\r\n      'navigationTargetParams': 'deviceId',\r\n      'navigationTargetVisible': false,\r\n      'navigationTargetDescription': this.translate.instant('BROWSER_POPOVER_WEBLOG'),\r\n    }, {\r\n      'navigationDockTargetMapId': 4,\r\n      'navigationDockId': 1,\r\n      'navigationTargetId': 4,\r\n      'navigationTargetName': this.translate.instant('BROWSER_POPOVER_REFRESH'),\r\n      'navigationTargetImagePath': 'assets/svg/refresh.svg',\r\n      'navigationTargetLink': 'repair-record',\r\n      'navigationTargetParams': 'deviceId',\r\n      'navigationTargetVisible': false,\r\n      'navigationTargetDescription': this.translate.instant('BROWSER_POPOVER_REFRESH'),\r\n    }, {\r\n      'navigationDockTargetMapId': 5,\r\n      'navigationDockId': 1,\r\n      'navigationTargetId': 5,\r\n      'navigationTargetName': this.translate.instant('BROWSER_POPOVER_COPYURL'),\r\n      'navigationTargetImagePath': 'assets/svg/copy.svg',\r\n      'navigationTargetLink': 'repair-record',\r\n      'navigationTargetParams': 'deviceId',\r\n      'navigationTargetVisible': false,\r\n      'navigationTargetDescription': this.translate.instant('BROWSER_POPOVER_COPYURL'),\r\n    }, {\r\n      'navigationDockTargetMapId': 6,\r\n      'navigationDockId': 1,\r\n      'navigationTargetId': 6,\r\n      'navigationTargetName': this.translate.instant('BROWSER_POPOVER_COLLECT'),\r\n      'navigationTargetImagePath': 'assets/img/shoucang.png',\r\n      'navigationTargetLink': 'repair-record',\r\n      'navigationTargetParams': 'deviceId',\r\n      'navigationTargetVisible': false,\r\n      'navigationTargetDescription': this.translate.instant('BROWSER_POPOVER_COLLECT'),\r\n    }, {\r\n      'navigationDockTargetMapId': 7,\r\n      'navigationDockId': 1,\r\n      'navigationTargetId': 7,\r\n      'navigationTargetName': '好友',\r\n      'navigationTargetImagePath': DEFAULT_LOGO,\r\n      'navigationTargetLink': 'repair-record',\r\n      'navigationTargetParams': 'deviceId',\r\n      'navigationTargetVisible': false,\r\n      'navigationTargetDescription': '好友',\r\n    }];\r\n  }\r\n\r\n  do(navTarget) {\r\n    switch(navTarget.navigationDockTargetMapId){\r\n      case 1:\r\n        if(!this.isShareImage){\r\n          this.shareProvider.shareWebPageWxSession(this.shareMessage).subscribe(res => {\r\n            this.viewCtrl.dismiss({\r\n              result: true\r\n            });\r\n          },err=>{\r\n            this.viewCtrl.dismiss({\r\n              result: false\r\n            });\r\n          });\r\n        }else{\r\n          this.shareProvider.shareImageWxSession(this.shareMessage).subscribe(res => {\r\n            this.viewCtrl.dismiss({\r\n              result: true\r\n            });\r\n          },err=>{\r\n            this.viewCtrl.dismiss({\r\n              result: false\r\n            });\r\n          });\r\n        }\r\n        break;\r\n      case 2:\r\n        if(!this.isShareImage){\r\n          this.shareProvider.shareWebPageWxTimeLine(this.shareMessage).subscribe(res => {\r\n            this.viewCtrl.dismiss({\r\n              result: true\r\n            });\r\n          },err=>{\r\n            this.viewCtrl.dismiss({\r\n              result: false\r\n            });\r\n          });\r\n        }else{\r\n          this.shareProvider.shareImageWxTimeLine(this.shareMessage).subscribe(res => {\r\n            this.viewCtrl.dismiss({\r\n              result: true\r\n            });\r\n          },err=>{\r\n            this.viewCtrl.dismiss({\r\n              result: false\r\n            });\r\n          });\r\n        }\r\n        break;\r\n      case 3:\r\n        break;\r\n      case 7:\r\n        this.preload.openContactChooserPage({callback:this.callback,type: 1 });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n     \r\n  }\r\n \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/common/share/share.ts"],"sourceRoot":""}