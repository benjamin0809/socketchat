{"version":3,"sources":["../../src/pages/beta/sqlite-test/sqlite-test.module.ts","../../src/pages/beta/sqlite-test/sqlite-test.ts"],"names":[],"mappings":"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","file":"106.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { SqliteTestPage } from './sqlite-test';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SqliteTestPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(SqliteTestPage),\r\n  ],\r\n})\r\nexport class SqliteTestPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/beta/sqlite-test/sqlite-test.module.ts","import { Session } from './../../../services/session';\r\nimport { StorageService } from './../../../services/storage-service';\r\nimport { SqliteService } from './../../../services/sqlite-service';\r\nimport { SqliteProvider } from './../../../providers/sqlite-provider';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\r\n\r\n/**\r\n * Generated class for the SqliteTestPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-sqlite-test',\r\n  templateUrl: 'sqlite-test.html',\r\n})\r\nexport class SqliteTestPage {\r\n\r\n  input: string =\"select * from ...\";\r\n  result: string;\r\n  tables: any;\r\n  userId: any;\r\n  constructor(public navCtrl: NavController, \r\n    public navParams: NavParams,\r\n    public sqlite: SqliteProvider,\r\n    public sqliteService: SqliteService,\r\n    public storageService: StorageService,\r\n    public alertCtrl: AlertController,\r\n    public sqlprovider: SqliteProvider,\r\n    public session: Session) {\r\n      this.tables = this.sqlprovider.getTables()\r\n      this.userId = this.session.userId;\r\n  }\r\n \r\n  async removeUserToken(){\r\n    let tokenObject = await this.storageService.getItem('tokenObject');\r\n    tokenObject.userToken = ''\r\n    this.storageService.setItem('tokenObject',tokenObject)\r\n    setTimeout(()=>{\r\n       this.storageService.getItem('tokenObject').then(res=>{\r\n        this.result = JSON.stringify(res,null,2)\r\n      }).catch(err=>{\r\n        this.result = JSON.stringify(err,null,2)\r\n      });\r\n    }) \r\n  }\r\n  \r\n  dropTable(){\r\n    this.sqlite.dropTable()\r\n  }\r\n  clearTableData(){\r\n    this.sqlite.clearALl()\r\n  }\r\n\r\n  initDB(){\r\n    this.sqlite.init(this.userId ).subscribe(res=>{\r\n      this.result = JSON.stringify(res, null, 2);\r\n    },err=>{\r\n      this.result = JSON.stringify(err, null, 2);\r\n    })\r\n  }\r\n\r\n  storageKeysManagement(){ \r\n    this.navCtrl.push('StorageKeyManagmentPage') \r\n  }\r\n  executeSql(){\r\n    this.sqliteService.executeSql(this.input).then(res=>{\r\n\r\n      for(let item of res.res.data){\r\n        if(item){\r\n          item.Extra = JSON.parse( item.Extra)\r\n        }\r\n      }\r\n      this.result = this.syntaxHighlight(res)\r\n    }).catch(error=>{\r\n      this.result = JSON.stringify({ code: error.err.code, message: error.err.message })\r\n    })\r\n  }\r\n\r\n  showClearTable(){\r\n    let alert = this.alertCtrl.create();\r\n    alert.setTitle('Which table would you clear?');\r\n\r\n     \r\n    for(let item of this.tables){\r\n      alert.addInput({\r\n        type: 'checkbox',\r\n        label: item.name,\r\n        value: item.value,\r\n        checked: item.checked\r\n      });\r\n    }\r\n \r\n    alert.addButton('Cancel'); \r\n    alert.addButton({\r\n      text: 'Okay',\r\n      handler: data => {\r\n        for(let item of data){\r\n          let sql = `delete from ${item}`\r\n          this.sqliteService.executeSql(sql)\r\n        } \r\n      }\r\n    });\r\n    alert.present();\r\n  }\r\n \r\n\r\n  queryTableData(){\r\n    \r\n  }\r\n  showDropTable() {\r\n    let alert = this.alertCtrl.create();\r\n    alert.setTitle('Which table would you drop?');\r\n\r\n     \r\n    for(let item of this.tables){\r\n      alert.addInput({\r\n        type: 'checkbox',\r\n        label: item.name,\r\n        value: item.value,\r\n        checked: item.checked\r\n      });\r\n    }\r\n \r\n    alert.addButton('Cancel'); \r\n    alert.addButton({\r\n      text: 'Okay',\r\n      handler: data => {\r\n        for(let item of data){\r\n          let sql = `drop table ${item}`\r\n          this.sqliteService.executeSql(sql)\r\n        } \r\n      }\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  syntaxHighlight(json) {\r\n    if (typeof json != 'string') {\r\n        json = JSON.stringify(json, undefined, 2);\r\n    }\r\n    json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\r\n    return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g, function(match) {\r\n        var cls = 'number';\r\n        if (/^\"/.test(match)) {\r\n            if (/:$/.test(match)) {\r\n                cls = 'key';\r\n            } else {\r\n                cls = 'string';\r\n            }\r\n        } else if (/true|false/.test(match)) {\r\n            cls = 'boolean';\r\n        } else if (/null/.test(match)) {\r\n            cls = 'null';\r\n        }\r\n        return '<span class=\"' + cls + '\">' + match + '</span>';\r\n    });\r\n}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/beta/sqlite-test/sqlite-test.ts"],"sourceRoot":""}