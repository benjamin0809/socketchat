{"version":3,"sources":["../../src/pages/my/updata-nickName/updata-nickName.module.ts","../../src/pages/my/updata-nickName/updata-nickName.ts"],"names":[],"mappings":"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","file":"53.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\nimport { updataNickNamePage } from './updata-nickName';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    updataNickNamePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(updataNickNamePage),\r\n    TranslateModule.forChild()\r\n  ],\r\n  exports: [\r\n    updataNickNamePage\r\n  ]\r\n})\r\nexport class SetPasswordPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my/updata-nickName/updata-nickName.module.ts","import { Utility } from './../../../services/utility';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, ModalController, NavController, ViewController, Events, NavParams } from 'ionic-angular';\r\nimport { FormGroup,FormBuilder,Validators } from '@angular/forms';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Session, NativeService } from '../../../services/services';\r\nimport { UserProvider } from '../../../providers/providers';\r\n\r\n@IonicPage()\r\n@Component({\r\n    selector: 'page-updata-NickNamePage',\r\n    templateUrl: 'updata-nickName.html'\r\n})\r\nexport class updataNickNamePage {\r\n    currentUser: any;\r\n    isReadyToSave: boolean;\r\n    form: FormGroup;\r\n    isLengthInvalid: boolean = false;\r\n\r\n    constructor(public navCtrl: NavController,\r\n        public viewCtrl: ViewController,\r\n        public session: Session,\r\n        private userProvider: UserProvider,\r\n        private nativeService: NativeService,\r\n        private translateService: TranslateService,\r\n        public formBuilder: FormBuilder,\r\n        public events: Events,\r\n        public modalCtrl: ModalController,\r\n        public navParams: NavParams) {\r\n \r\n        if (this.session.user != null) {\r\n            this.currentUser = this.session.user;\r\n        }\r\n        this.form = formBuilder.group({\r\n            nickname: [this.navParams.data.nickName || '', Validators.required]\r\n        });\r\n\r\n        // Watch the form for changes, and\r\n        this.form.valueChanges.subscribe((v) => {\r\n            if(Utility.getByteLen(v.nickname) <= 50){\r\n                this.isReadyToSave = this.form.valid ;\r\n                this.isLengthInvalid = false\r\n            }else{\r\n                this.isReadyToSave = false;\r\n                this.isLengthInvalid = true\r\n            }\r\n            \r\n        });\r\n    }\r\n\r\n    submit() {\r\n        if (!this.form.valid) { return; }\r\n        this.form.controls['username'];\r\n        //校验\r\n        if(this.form.value.nickname == null && this.form.value.nickname == undefined){\r\n            this.nativeService.alert(this.translateService.instant(\"MY_NICKNAME_VERIFY\"));\r\n            return\r\n        }\r\n\r\n        this.userProvider.setNickname({\r\n            nickname : this.form.value.nickname\r\n        }).subscribe((data: any) => {\r\n            this.userProvider.getUserInfo().subscribe((data: any) => {\r\n                // this.events.publish('user:info-changed', Date.now());\r\n                this.viewCtrl.dismiss();\r\n            });  \r\n        });\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my/updata-nickName/updata-nickName.ts"],"sourceRoot":""}