webpackJsonp([39],{1066:function(n,l,e){"use strict";function t(n){return u["ɵvid"](2,[u["ɵqud"](402653184,1,{_fixedContent:0}),u["ɵqud"](402653184,2,{_scrollContent:0}),(n()(),u["ɵeld"](2,0,[[1,0],["fixedContent",1]],null,1,"div",[["class","fixed-content"]],null,null,null,null,null)),u["ɵncd"](null,0),(n()(),u["ɵeld"](4,0,[[2,0],["scrollContent",1]],null,1,"div",[["class","scroll-content"]],null,null,null,null,null)),u["ɵncd"](null,1),u["ɵncd"](null,2)],null,null)}e.d(l,"a",function(){return o}),l.b=t;var u=e(1),o=(e(4),e(7),e(14),e(70),e(8),e(44),u["ɵcrt"]({encapsulation:2,styles:[],data:{}}))},1067:function(n,l,e){"use strict";function t(n){return u["ɵvid"](0,[(n()(),u["ɵeld"](0,0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),u["ɵdid"](1,278528,null,0,o.g,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),u["ɵeld"](2,0,null,null,8,"button",[["class","back-button"],["ion-button","bar-button"]],[[8,"hidden",0]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.backButtonClick(e)&&t}return t},i.b,i.a)),u["ɵdid"](3,278528,null,0,o.g,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["ɵdid"](4,1097728,null,0,a.a,[[8,"bar-button"],r.a,u.ElementRef,u.Renderer],null,null),(n()(),u["ɵeld"](5,0,null,0,2,"ion-icon",[["class","back-button-icon"],["role","img"]],[[2,"hide",null]],null,null,null,null)),u["ɵdid"](6,278528,null,0,o.g,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["ɵdid"](7,147456,null,0,s.a,[r.a,u.ElementRef,u.Renderer],{name:[0,"name"]},null),(n()(),u["ɵeld"](8,0,null,0,2,"span",[["class","back-button-text"]],null,null,null,null,null)),u["ɵdid"](9,278528,null,0,o.g,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),u["ɵted"](10,null,["",""])),u["ɵncd"](null,0),u["ɵncd"](null,1),u["ɵncd"](null,2),(n()(),u["ɵeld"](14,0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),u["ɵdid"](15,278528,null,0,o.g,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["ɵncd"](null,3)],function(n,l){var e=l.component;n(l,1,0,"toolbar-background","toolbar-background-"+e._mode);n(l,3,0,"back-button","back-button-"+e._mode);n(l,6,0,"back-button-icon","back-button-icon-"+e._mode);n(l,7,0,e._bbIcon);n(l,9,0,"back-button-text","back-button-text-"+e._mode);n(l,15,0,"toolbar-content","toolbar-content-"+e._mode)},function(n,l){var e=l.component;n(l,2,0,e._hideBb);n(l,5,0,u["ɵnov"](l,7)._hidden);n(l,10,0,e._backText)})}e.d(l,"a",function(){return d}),l.b=t;var u=e(1),o=e(25),i=e(81),a=e(39),r=e(4),s=e(82),d=(e(8),e(44),u["ɵcrt"]({encapsulation:2,styles:[],data:{}}))},1068:function(n,l,e){"use strict";function t(n){return u["ɵvid"](2,[(n()(),u["ɵeld"](0,0,null,null,2,"div",[["class","toolbar-title"]],null,null,null,null,null)),u["ɵdid"](1,278528,null,0,o.g,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["ɵncd"](null,0)],function(n,l){n(l,1,0,"toolbar-title","toolbar-title-"+l.component._mode)},null)}e.d(l,"a",function(){return i}),l.b=t;var u=e(1),o=e(25),i=(e(4),u["ɵcrt"]({encapsulation:2,styles:[],data:{}}))},1080:function(n,l,e){"use strict";function t(n){return u["ɵvid"](2,[(n()(),u["ɵeld"](0,0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),u["ɵdid"](1,278528,null,0,o.g,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["ɵncd"](null,0),u["ɵncd"](null,1),u["ɵncd"](null,2),(n()(),u["ɵeld"](5,0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),u["ɵdid"](6,278528,null,0,o.g,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["ɵncd"](null,3)],function(n,l){var e=l.component;n(l,1,0,"toolbar-background","toolbar-background-"+e._mode);n(l,6,0,"toolbar-content","toolbar-content-"+e._mode)},null)}e.d(l,"a",function(){return i}),l.b=t;var u=e(1),o=e(25),i=(e(4),u["ɵcrt"]({encapsulation:2,styles:[],data:{}}))},1081:function(n,l,e){"use strict";function t(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,0,[[1,0],["textInput",1]],null,1,"input",[["class","text-input"],["dir","auto"]],[[8,"type",0],[1,"aria-labelledby",0],[1,"min",0],[1,"max",0],[1,"step",0],[1,"autocomplete",0],[1,"autocorrect",0],[8,"placeholder",0],[8,"disabled",0],[8,"readOnly",0]],[[null,"input"],[null,"blur"],[null,"focus"],[null,"keydown"]],function(n,l,e){var t=!0,u=n.component;if("input"===l){t=!1!==u.onInput(e)&&t}if("blur"===l){t=!1!==u.onBlur(e)&&t}if("focus"===l){t=!1!==u.onFocus(e)&&t}if("keydown"===l){t=!1!==u.onKeydown(e)&&t}return t},null,null)),r["ɵdid"](1,278528,null,0,s.g,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(n,l){n(l,1,0,"text-input","text-input-"+l.component._mode)},function(n,l){var e=l.component;n(l,0,0,e._type,e._labelId,e.min,e.max,e.step,e.autocomplete,e.autocorrect,e.placeholder,e._disabled,e._readonly)})}function u(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,0,[[1,0],["textInput",1]],null,1,"textarea",[["class","text-input"]],[[1,"aria-labelledby",0],[1,"autocomplete",0],[1,"autocorrect",0],[8,"placeholder",0],[8,"disabled",0],[8,"readOnly",0]],[[null,"input"],[null,"blur"],[null,"focus"],[null,"keydown"]],function(n,l,e){var t=!0,u=n.component;if("input"===l){t=!1!==u.onInput(e)&&t}if("blur"===l){t=!1!==u.onBlur(e)&&t}if("focus"===l){t=!1!==u.onFocus(e)&&t}if("keydown"===l){t=!1!==u.onKeydown(e)&&t}return t},null,null)),r["ɵdid"](1,278528,null,0,s.g,[r.IterableDiffers,r.KeyValueDiffers,r.ElementRef,r.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(n,l){n(l,1,0,"text-input","text-input-"+l.component._mode)},function(n,l){var e=l.component;n(l,0,0,e._labelId,e.autocomplete,e.autocorrect,e.placeholder,e._disabled,e._readonly)})}function o(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,0,null,null,1,"button",[["class","text-input-clear-icon"],["clear",""],["ion-button",""],["tabindex","-1"],["type","button"]],null,[[null,"click"],[null,"mousedown"]],function(n,l,e){var t=!0,u=n.component;if("click"===l){t=!1!==u.clearTextInput(e)&&t}if("mousedown"===l){t=!1!==u.clearTextInput(e)&&t}return t},d.b,d.a)),r["ɵdid"](1,1097728,null,0,c.a,[[8,""],f.a,r.ElementRef,r.Renderer],{clear:[0,"clear"]},null)],function(n,l){n(l,1,0,"")},null)}function i(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,0,null,null,0,"div",[["class","input-cover"]],null,[[null,"touchstart"],[null,"touchend"],[null,"mousedown"],[null,"mouseup"]],function(n,l,e){var t=!0,u=n.component;if("touchstart"===l){t=!1!==u._pointerStart(e)&&t}if("touchend"===l){t=!1!==u._pointerEnd(e)&&t}if("mousedown"===l){t=!1!==u._pointerStart(e)&&t}if("mouseup"===l){t=!1!==u._pointerEnd(e)&&t}return t},null,null))],null,null)}function a(n){return r["ɵvid"](2,[r["ɵqud"](671088640,1,{_native:0}),(n()(),r["ɵand"](16777216,null,null,1,null,t)),r["ɵdid"](2,16384,null,0,s.i,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),r["ɵand"](16777216,null,null,1,null,u)),r["ɵdid"](4,16384,null,0,s.i,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),r["ɵand"](16777216,null,null,1,null,o)),r["ɵdid"](6,16384,null,0,s.i,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),r["ɵand"](16777216,null,null,1,null,i)),r["ɵdid"](8,16384,null,0,s.i,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,2,0,!e._isTextarea);n(l,4,0,e._isTextarea);n(l,6,0,e._clearInput);n(l,8,0,e._useAssist)},null)}e.d(l,"a",function(){return p}),l.b=a;var r=e(1),s=e(25),d=e(81),c=e(39),f=e(4),p=(e(7),e(34),e(14),r["ɵcrt"]({encapsulation:2,styles:[],data:{}}))},1096:function(n,l,e){"use strict";e.d(l,"a",function(){return t});e(0),e(1097);var t=function(){return function(){}}()},1097:function(n,l,e){"use strict";e.d(l,"a",function(){return t});e(0);var t=function(){function n(n){this.element=n}return n.prototype.onInput=function(n){this.adjust()},n.prototype.onChange=function(n){this.adjust()},n.prototype.onBlur=function(n){var l=this;setTimeout(function(){l.adjust()},100)},n.prototype.ngOnInit=function(){var n=this;setTimeout(function(){return n.adjust(0,!0)},0)},n.prototype.adjust=function(n,l){var e=this.element.nativeElement.getElementsByTagName("textarea")[0];l&&(e.rows=1),e.style.overflow="hidden",e.style.height="auto",n?e.style.height=n+"px":this.maxHeight&&this.maxHeight<e.scrollHeight?(e.style.height=this.maxHeight+"px",e.style.overflow="scroll"):e.style.height=e.scrollHeight+"px"},n}()},989:function(n,l,e){"use strict";function t(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,0,null,null,8,"ion-col",[["class","col"],["col-4",""]],null,null,null,null,null)),o["ɵdid"](1,16384,null,0,I.a,[],null,null),(n()(),o["ɵted"](-1,null,["\n          "])),(n()(),o["ɵeld"](3,0,null,null,3,"div",[["class","preview-image"]],[[4,"background-image",null]],null,null,null,null)),(n()(),o["ɵted"](-1,null,[" \n            "])),(n()(),o["ɵeld"](5,0,null,null,0,"img",[["class","subtract"],["src","assets/img/subtract.png"]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.spliceImages(n.context.index)&&t}return t},null,null)),(n()(),o["ɵted"](-1,null,["  "])),(n()(),o["ɵted"](-1,null,[" \n        "])),(n()(),o["ɵted"](-1,null,["\n      "]))],null,function(n,l){n(l,3,0,"url("+l.context.$implicit.pictureUrl+")")})}function u(n){return o["ɵvid"](0,[o["ɵqud"](402653184,1,{footer:0}),o["ɵqud"](402653184,2,{content:0}),o["ɵqud"](402653184,3,{fileInput:0}),(n()(),o["ɵted"](-1,null,["\n"])),(n()(),o["ɵeld"](4,0,null,null,28,"ion-header",[],null,null,null,null,null)),o["ɵdid"](5,16384,null,0,_.a,[E.a,o.ElementRef,o.Renderer,[2,x.a]],null,null),(n()(),o["ɵted"](-1,null,["\n\n  "])),(n()(),o["ɵeld"](7,0,null,null,24,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,w.b,w.a)),o["ɵdid"](8,49152,null,0,T.a,[P.a,[2,x.a],[2,D.a],E.a,o.ElementRef,o.Renderer],null,null),(n()(),o["ɵted"](-1,3,["\n      "])),(n()(),o["ɵeld"](10,0,null,1,7,"ion-buttons",[["start",""]],null,null,null,null,null)),o["ɵdid"](11,16384,null,1,U.a,[E.a,o.ElementRef,o.Renderer,[2,B.a],[2,T.a]],null,null),o["ɵqud"](603979776,4,{_buttons:1}),(n()(),o["ɵted"](-1,null,["\n          "])),(n()(),o["ɵeld"](14,0,null,null,2,"button",[["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.goback()&&t}return t},V.b,V.a)),o["ɵdid"](15,1097728,[[4,4]],0,F.a,[[8,""],E.a,o.ElementRef,o.Renderer],null,null),(n()(),o["ɵted"](-1,0,["\n            取消\n          "])),(n()(),o["ɵted"](-1,null,["\n      "])),(n()(),o["ɵted"](-1,3,["\n      "])),(n()(),o["ɵeld"](19,0,null,3,2,"ion-title",[],null,null,null,K.b,K.a)),o["ɵdid"](20,49152,null,0,S.a,[E.a,o.ElementRef,o.Renderer,[2,B.a],[2,T.a]],null,null),(n()(),o["ɵted"](-1,0,["发微博"])),(n()(),o["ɵted"](-1,3,["\n      "])),(n()(),o["ɵeld"](23,0,null,2,7,"ion-buttons",[["end",""]],null,null,null,null,null)),o["ɵdid"](24,16384,null,1,U.a,[E.a,o.ElementRef,o.Renderer,[2,B.a],[2,T.a]],null,null),o["ɵqud"](603979776,5,{_buttons:1}),(n()(),o["ɵted"](-1,null,["\n          "])),(n()(),o["ɵeld"](27,0,null,null,2,"button",[["block",""],["color","dark"],["ion-button",""]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.publishBlog()&&t}return t},V.b,V.a)),o["ɵdid"](28,1097728,[[5,4]],0,F.a,[[8,""],E.a,o.ElementRef,o.Renderer],{color:[0,"color"],block:[1,"block"]},null),(n()(),o["ɵted"](-1,0,["\n            发布\n          "])),(n()(),o["ɵted"](-1,null,["\n      "])),(n()(),o["ɵted"](-1,3,["\n  "])),(n()(),o["ɵted"](-1,null,["\n\n"])),(n()(),o["ɵted"](-1,null,["\n\n\n"])),(n()(),o["ɵeld"](34,0,null,null,26,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,L.b,L.a)),o["ɵdid"](35,4374528,[[2,4]],0,q.a,[E.a,M.a,N.a,o.ElementRef,o.Renderer,P.a,j.a,o.NgZone,[2,x.a],[2,D.a]],null,null),(n()(),o["ɵted"](-1,1,["\n  "])),(n()(),o["ɵeld"](37,0,null,1,22,"form",[["novalidate",""],["padding",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var t=!0;if("submit"===l){t=!1!==o["ɵnov"](n,39).onSubmit(e)&&t}if("reset"===l){t=!1!==o["ɵnov"](n,39).onReset()&&t}return t},null,null)),o["ɵdid"](38,16384,null,0,r.t,[],null,null),o["ɵdid"](39,540672,null,0,r.g,[[8,null],[8,null]],{form:[0,"form"]},null),o["ɵprd"](2048,null,r.b,null,[r.g]),o["ɵdid"](41,16384,null,0,r.n,[r.b],null,null),(n()(),o["ɵted"](-1,null,["\n    "])),(n()(),o["ɵeld"](43,0,null,null,6,"ion-textarea",[["autosize",""],["formControlName","inputcontent"],["placeholder","发布动态，让更多人看到你的精彩..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"propertychange"],[null,"ionBlur"]],function(n,l,e){var t=!0,u=n.component;if("input"===l){t=!1!==o["ɵnov"](n,48).onInput(e.target)&&t}if("propertychange"===l){t=!1!==o["ɵnov"](n,48).onChange(e.target)&&t}if("ionBlur"===l){t=!1!==o["ɵnov"](n,48).onBlur(e.target)&&t}if("ngModelChange"===l){t=!1!==(u.inputText=e)&&t}return t},H.b,H.a)),o["ɵdid"](44,671744,null,0,r.f,[[3,r.b],[8,null],[8,null],[8,null]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),o["ɵprd"](2048,null,r.l,null,[r.f]),o["ɵdid"](46,16384,null,0,r.m,[r.l],null,null),o["ɵdid"](47,5423104,null,0,O.a,[E.a,M.a,A.a,P.a,o.ElementRef,o.Renderer,[2,q.a],[2,z.a],[2,r.l],N.a],{type:[0,"type"],placeholder:[1,"placeholder"]},{ionBlur:"ionBlur",input:"input"}),o["ɵdid"](48,81920,null,0,Q.a,[o.ElementRef],null,null),(n()(),o["ɵted"](-1,null,["   \n    "])),(n()(),o["ɵted"](-1,null,["\n    "])),(n()(),o["ɵeld"](51,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["ɵted"](-1,null,["\n    "])),(n()(),o["ɵeld"](53,0,null,null,5,"ion-row",[["class","row"]],null,null,null,null,null)),o["ɵdid"](54,16384,null,0,G.a,[],null,null),(n()(),o["ɵted"](-1,null,["\n      "])),(n()(),o["ɵand"](16777216,null,null,1,null,t)),o["ɵdid"](57,802816,null,0,W.h,[o.ViewContainerRef,o.TemplateRef,o.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),o["ɵted"](-1,null,["\n    "])),(n()(),o["ɵted"](-1,null,[" \n  "])),(n()(),o["ɵted"](-1,1,["\n"])),(n()(),o["ɵted"](-1,null,["\n\n\n\n"])),(n()(),o["ɵeld"](62,0,[[1,0],["footer",1]],null,53,"ion-footer",[["class","footer-container"]],null,null,null,null,null)),o["ɵdid"](63,16384,null,0,J.a,[E.a,o.ElementRef,o.Renderer,[2,x.a]],null,null),(n()(),o["ɵted"](-1,null,[" \n  "])),(n()(),o["ɵeld"](65,0,null,null,49,"ion-toolbar",[["class","toolbar"]],[[2,"statusbar-padding",null]],null,null,Z.b,Z.a)),o["ɵdid"](66,49152,null,0,B.a,[E.a,o.ElementRef,o.Renderer],null,null),(n()(),o["ɵted"](-1,3,["\n      "])),(n()(),o["ɵeld"](68,0,[[3,0],["fileInput",1]],3,0,"input",[["multiple","multiple"],["name","files[]"],["style","visibility: hidden; height: 0px"],["type","file"]],null,[[null,"change"]],function(n,l,e){var t=!0;if("change"===l){t=!1!==n.component.processWebImage(e)&&t}return t},null,null)),(n()(),o["ɵted"](-1,3,["\n      "])),(n()(),o["ɵeld"](70,0,null,3,18,"ion-row",[["class","option row"]],null,null,null,null,null)),o["ɵdid"](71,16384,null,0,G.a,[],null,null),(n()(),o["ɵted"](-1,null,["\n          "])),(n()(),o["ɵeld"](73,0,null,null,6,"ion-col",[["class","col"],["col-9",""]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.setLocation()&&t}return t},null,null)),o["ɵdid"](74,16384,null,0,I.a,[],null,null),(n()(),o["ɵeld"](75,0,null,null,1,"ion-icon",[["name","pin-outline"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o["ɵdid"](76,147456,null,0,$.a,[E.a,o.ElementRef,o.Renderer],{name:[0,"name"]},null),(n()(),o["ɵted"](-1,null,["  "])),(n()(),o["ɵeld"](78,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o["ɵted"](79,null,["",""])),(n()(),o["ɵted"](-1,null,["\n          "])),(n()(),o["ɵeld"](81,0,null,null,6,"ion-col",[["class","col"]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.setPrivacy()&&t}return t},null,null)),o["ɵdid"](82,16384,null,0,I.a,[],null,null),(n()(),o["ɵeld"](83,0,null,null,1,"ion-icon",[["name","globe-outline"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o["ɵdid"](84,147456,null,0,$.a,[E.a,o.ElementRef,o.Renderer],{name:[0,"name"]},null),(n()(),o["ɵted"](-1,null,["  "])),(n()(),o["ɵeld"](86,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o["ɵted"](87,null,["",""])),(n()(),o["ɵted"](-1,null,["\n        "])),(n()(),o["ɵted"](-1,3,["\n        "])),(n()(),o["ɵeld"](90,0,null,3,3,"button",[["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.openPhoneGallery()&&t}return t},V.b,V.a)),o["ɵdid"](91,1097728,null,0,F.a,[[8,""],E.a,o.ElementRef,o.Renderer],null,null),(n()(),o["ɵeld"](92,0,null,0,1,"ion-icon",[["name","photos-outline"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o["ɵdid"](93,147456,null,0,$.a,[E.a,o.ElementRef,o.Renderer],{name:[0,"name"]},null),(n()(),o["ɵted"](-1,3,["\n        "])),(n()(),o["ɵeld"](95,0,null,3,3,"button",[["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.openCamera()&&t}return t},V.b,V.a)),o["ɵdid"](96,1097728,null,0,F.a,[[8,""],E.a,o.ElementRef,o.Renderer],null,null),(n()(),o["ɵeld"](97,0,null,0,1,"ion-icon",[["name","camera-outline"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o["ɵdid"](98,147456,null,0,$.a,[E.a,o.ElementRef,o.Renderer],{name:[0,"name"]},null),(n()(),o["ɵted"](-1,3,["\n        "])),(n()(),o["ɵeld"](100,0,null,3,3,"button",[["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.openFrindList()&&t}return t},V.b,V.a)),o["ɵdid"](101,1097728,null,0,F.a,[[8,""],E.a,o.ElementRef,o.Renderer],null,null),(n()(),o["ɵeld"](102,0,null,0,1,"ion-icon",[["name","at-outline"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o["ɵdid"](103,147456,null,0,$.a,[E.a,o.ElementRef,o.Renderer],{name:[0,"name"]},null),(n()(),o["ɵted"](-1,3,["\n        "])),(n()(),o["ɵeld"](105,0,null,3,3,"button",[["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.openTopicPage()&&t}return t},V.b,V.a)),o["ɵdid"](106,1097728,null,0,F.a,[[8,""],E.a,o.ElementRef,o.Renderer],null,null),(n()(),o["ɵeld"](107,0,null,0,1,"ion-icon",[["name","grid-outline"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o["ɵdid"](108,147456,null,0,$.a,[E.a,o.ElementRef,o.Renderer],{name:[0,"name"]},null),(n()(),o["ɵted"](-1,3,["\n        "])),(n()(),o["ɵeld"](110,0,null,3,3,"button",[["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.openQuestionPage()&&t}return t},V.b,V.a)),o["ɵdid"](111,1097728,null,0,F.a,[[8,""],E.a,o.ElementRef,o.Renderer],null,null),(n()(),o["ɵeld"](112,0,null,0,1,"ion-icon",[["name","help-circle-outline"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o["ɵdid"](113,147456,null,0,$.a,[E.a,o.ElementRef,o.Renderer],{name:[0,"name"]},null),(n()(),o["ɵted"](-1,3,["\n  "])),(n()(),o["ɵted"](-1,null,[" \n"])),(n()(),o["ɵted"](-1,null,["\n\n"]))],function(n,l){var e=l.component;n(l,28,0,"dark","");n(l,39,0,e.form);n(l,44,0,"inputcontent",e.inputText);n(l,47,0,"text","发布动态，让更多人看到你的精彩..."),n(l,48,0);n(l,57,0,e.choosenImages);n(l,76,0,"pin-outline");n(l,84,0,"globe-outline");n(l,93,0,"photos-outline");n(l,98,0,"camera-outline");n(l,103,0,"at-outline");n(l,108,0,"grid-outline");n(l,113,0,"help-circle-outline")},function(n,l){var e=l.component;n(l,7,0,o["ɵnov"](l,8)._hidden,o["ɵnov"](l,8)._sbPadding);n(l,34,0,o["ɵnov"](l,35).statusbarPadding,o["ɵnov"](l,35)._hasRefresher);n(l,37,0,o["ɵnov"](l,41).ngClassUntouched,o["ɵnov"](l,41).ngClassTouched,o["ɵnov"](l,41).ngClassPristine,o["ɵnov"](l,41).ngClassDirty,o["ɵnov"](l,41).ngClassValid,o["ɵnov"](l,41).ngClassInvalid,o["ɵnov"](l,41).ngClassPending);n(l,43,0,o["ɵnov"](l,46).ngClassUntouched,o["ɵnov"](l,46).ngClassTouched,o["ɵnov"](l,46).ngClassPristine,o["ɵnov"](l,46).ngClassDirty,o["ɵnov"](l,46).ngClassValid,o["ɵnov"](l,46).ngClassInvalid,o["ɵnov"](l,46).ngClassPending);n(l,65,0,o["ɵnov"](l,66)._sbPadding);n(l,75,0,o["ɵnov"](l,76)._hidden);n(l,79,0,e.location);n(l,83,0,o["ɵnov"](l,84)._hidden);n(l,87,0,e.privacy);n(l,92,0,o["ɵnov"](l,93)._hidden);n(l,97,0,o["ɵnov"](l,98)._hidden);n(l,102,0,o["ɵnov"](l,103)._hidden);n(l,107,0,o["ɵnov"](l,108)._hidden);n(l,112,0,o["ɵnov"](l,113)._hidden)})}Object.defineProperty(l,"__esModule",{value:!0});var o=e(1),i=(e(0),e(1096)),a=(e(17),e(20)),r=e(33),s=e(40),d=e(161),c=e(21),f=function(){function n(n,l,e,t,u,o,i,a){var s=this;this.navCtrl=n,this.navParams=l,this.session=e,this.formBuilder=t,this.events=u,this.keyboard=o,this.nativeService=i,this.viewCtrl=a,this.isLogin=!1,this.isEmployee=!1,this.choosenImages=[],this.location="你在哪里",this.privacy="公开",null!=this.session.user&&(this.currentUser=this.session.user,this.isLogin=!0),this.currentUser&&this.currentUser.employeeInfo&&(this.currentUser.pictureUrl=this.currentUser.pictureUrl||"assets/img/avatar-round.png"),this.form=t.group({inputcontent:[this.navParams.data.inputContent||"",r.r.required]}),this.events.subscribe("at-someone:choosen",function(n){s.form.value.inputcontent||(s.form.value.inputcontent=""),s.inputText=s.form.value.inputcontent+"@"+n.realname}),this.events.subscribe("topic:choosen",function(n){s.form.value.inputcontent||(s.form.value.inputcontent=""),s.inputText=n.title+s.form.value.inputcontent}),this.keyboard.onKeyboardShow().subscribe(function(n){s.setFooterPosition(n.keyboardHeight),s.ContentResize()}),this.events.subscribe("location:choosed",function(n){s.location=n.name}),this.events.subscribe("privacy:done",function(n){s.privacy=n})}return n.prototype.ionViewDidLoad=function(){},n.prototype.spliceImages=function(n){this.choosenImages.splice(n,1)},n.prototype.setFooterPosition=function(n){this.footer.nativeElement.style.paddingBottom=n+"px"},n.prototype.ContentResize=function(){var n=this;setTimeout(function(){n.content.resize(),setTimeout(function(){n.scrollToBottom()},50)},50)},n.prototype.scrollToBottom=function(){var n=this;setTimeout(function(){n.content.scrollToBottom()},10)},n.prototype.publishBlog=function(){(this.location="你在哪里")&&(this.location="");var n={id:1,author:{userId:this.currentUser.userId,userName:this.currentUser.employeeName,nickName:this.currentUser.nickName,hasPassword:this.currentUser.hasPassword,isEmployee:this.currentUser.isEmployee,pictureUrl:this.currentUser.pictureUrl,fansCount:0},site:this.currentUser.employeeInfo.site,content:this.form.value.inputcontent,imgs:this.choosenImages,location:this.location,redirectUrl:"string",publishTime:s.a.dateFormat(new Date,"yyyy-MM-dd HH:mm:ss"),readCount:0,zanCount:0,commentCount:0,shareCount:0};this.events.publish("blog:add",n),this.viewCtrl.dismiss()},n.prototype.openPhoneGallery=function(){var n=this;this.nativeService.isMobile()?this.nativeService.getFullPictureByPhotoLibrary({destinationType:0}).subscribe(function(l){n.choosenImages||(n.choosenImages=[]),n.choosenImages.push({pictureUrl:l})},function(l){n.nativeService.showToast(l)}):this.fileInput.nativeElement.click()},n.prototype.goback=function(){this.navCtrl.pop()},n.prototype.processWebImage=function(n){for(var l=this,e=0,t=n.target.files;e<t.length;e++){var u=t[e],o=new FileReader;o.onload=function(n){var e=n.target.result;l.choosenImages||(l.choosenImages=[]),l.choosenImages.push({pictureUrl:e})},o.readAsDataURL(u)}},n.prototype.openCamera=function(){var n=this;this.nativeService.isMobile()?this.nativeService.getFullPictureByCamera({destinationType:0}).subscribe(function(l){n.choosenImages||(n.choosenImages=[]),n.choosenImages.push({pictureUrl:l})},function(l){n.nativeService.showToast(l)}):(this.choosenImages||(this.choosenImages=[]),this.choosenImages.push({pictureUrl:"assets/img/puppy-2.jpg"}))},n.prototype.openFrindList=function(){this.navCtrl.push("AtSomeonePage")},n.prototype.openTopicPage=function(){this.navCtrl.push("TopicChooserPage")},n.prototype.openQuestionPage=function(){this.navCtrl.push("QuestionAddPage")},n.prototype.setLocation=function(){this.navCtrl.push("LocationChooserPage")},n.prototype.setPrivacy=function(){this.navCtrl.push("PrivacySettingPage")},n}(),p=function(){return function(){}}(),m=e(594),h=e(595),g=e(596),b=e(597),v=e(598),y=e(599),R=e(600),k=e(601),C=e(602),I=e(253),_=e(249),E=e(4),x=e(8),w=e(1067),T=e(80),P=e(13),D=e(44),U=e(255),B=e(107),V=e(81),F=e(39),K=e(1068),S=e(247),L=e(1066),q=e(46),M=e(7),N=e(14),j=e(70),H=e(1081),O=e(251),A=e(34),z=e(37),Q=e(1097),G=e(254),W=e(25),J=e(260),Z=e(1080),$=e(82),X=e(19),Y=e(108),nn=o["ɵcrt"]({encapsulation:2,styles:[],data:{}}),ln=o["ɵccf"]("page-blog-add",f,function(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,0,null,null,1,"page-blog-add",[],null,null,null,u,nn)),o["ɵdid"](1,49152,null,0,f,[D.a,X.a,a.a,r.d,Y.a,d.a,c.a,x.a],null,null)],null,null)},{},{},[]),en=e(248),tn=e(71);e.d(l,"BlogAddPageModuleNgFactory",function(){return un});var un=o["ɵcmf"](p,[],function(n){return o["ɵmod"]([o["ɵmpd"](512,o.ComponentFactoryResolver,o["ɵCodegenComponentFactoryResolver"],[[8,[m.a,h.a,g.a,b.a,v.a,y.a,R.a,k.a,C.a,ln]],[3,o.ComponentFactoryResolver],o.NgModuleRef]),o["ɵmpd"](4608,W.k,W.j,[o.LOCALE_ID,[2,W.s]]),o["ɵmpd"](4608,r.u,r.u,[]),o["ɵmpd"](4608,r.d,r.d,[]),o["ɵmpd"](512,W.b,W.b,[]),o["ɵmpd"](512,r.s,r.s,[]),o["ɵmpd"](512,r.h,r.h,[]),o["ɵmpd"](512,r.q,r.q,[]),o["ɵmpd"](512,en.a,en.a,[]),o["ɵmpd"](512,en.b,en.b,[]),o["ɵmpd"](512,i.a,i.a,[]),o["ɵmpd"](512,p,p,[]),o["ɵmpd"](256,tn.a,f,[])])})}});